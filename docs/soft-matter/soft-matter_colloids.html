<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>15&nbsp; Colloids</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../soft-matter/soft-matter_polymers.html" rel="next">
<link href="../soft-matter/soft-matter_intro.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-f9e9f27e2f64dd25e94c2742b294698a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="../site_libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../soft-matter/soft-matter_intro.html">Complex disordered systems</a></li><li class="breadcrumb-item"><a href="../soft-matter/soft-matter_colloids.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Colloids</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../phase-transitions/Figs/courselogo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Unifying concepts</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommended texts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/precourse-reading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Precourse reading and revision</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to phase behaviour</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Background concepts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/approach-to-criticality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">The approach to criticality</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/Ising-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The Ising model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/mean-field-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Mean field theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/lattice-gas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The lattice gas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/scaling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">The static scaling hypothesis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/rg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Renormalization group theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/nucleation-and-growth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Nucleation, growth and spinoidal decomposition</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/master-equation-and-diffusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to stochastic processes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/Brownian-and-Langevin-dynamics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Brownian and Langevin dynamics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/dynamics-of-fluctuations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Dynamics of fluctuations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/live-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coding</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Complex disordered systems</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Entropy matters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_colloids.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Colloids</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_polymers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Polymers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_liquidcrystals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Liquid crystals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_surfactants.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Surfactants</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_glasses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Arrested states</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_active.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Active matter</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_readings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Readings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Problems</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Experimental techniques</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../revision_guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Revision guide</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/concepts_map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Concept maps</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#kinds-of-colloids" id="toc-kinds-of-colloids" class="nav-link active" data-scroll-target="#kinds-of-colloids"><span class="header-section-number">15.1</span> Kinds of colloids</a></li>
  <li><a href="#stability-of-colloids-and-colloid-colloid-interactions" id="toc-stability-of-colloids-and-colloid-colloid-interactions" class="nav-link" data-scroll-target="#stability-of-colloids-and-colloid-colloid-interactions"><span class="header-section-number">15.2</span> Stability of colloids and colloid-colloid interactions</a>
  <ul class="collapse">
  <li><a href="#fundamental-and-effective-forces" id="toc-fundamental-and-effective-forces" class="nav-link" data-scroll-target="#fundamental-and-effective-forces"><span class="header-section-number">15.2.1</span> Fundamental and effective forces</a></li>
  <li><a href="#van-der-waals-interaction" id="toc-van-der-waals-interaction" class="nav-link" data-scroll-target="#van-der-waals-interaction"><span class="header-section-number">15.2.2</span> Van der Waals interaction</a></li>
  <li><a href="#double-layer-interaction" id="toc-double-layer-interaction" class="nav-link" data-scroll-target="#double-layer-interaction"><span class="header-section-number">15.2.3</span> Double-layer interaction</a></li>
  <li><a href="#steric-interactions-and-depletion-interactions" id="toc-steric-interactions-and-depletion-interactions" class="nav-link" data-scroll-target="#steric-interactions-and-depletion-interactions"><span class="header-section-number">15.2.4</span> Steric interactions and depletion interactions</a></li>
  </ul></li>
  <li><a href="#colloids-as-big-atoms" id="toc-colloids-as-big-atoms" class="nav-link" data-scroll-target="#colloids-as-big-atoms"><span class="header-section-number">15.3</span> Colloids as big atoms</a>
  <ul class="collapse">
  <li><a href="#the-archetype-hard-sphere-colloids" id="toc-the-archetype-hard-sphere-colloids" class="nav-link" data-scroll-target="#the-archetype-hard-sphere-colloids"><span class="header-section-number">15.3.1</span> The archetype: hard-sphere colloids</a></li>
  <li><a href="#phase-coexistence" id="toc-phase-coexistence" class="nav-link" data-scroll-target="#phase-coexistence"><span class="header-section-number">15.3.2</span> Phase coexistence</a></li>
  <li><a href="#dynamics-single-and-collective-displacements" id="toc-dynamics-single-and-collective-displacements" class="nav-link" data-scroll-target="#dynamics-single-and-collective-displacements"><span class="header-section-number">15.3.3</span> Dynamics: single and collective displacements</a></li>
  <li><a href="#brownian-motion" id="toc-brownian-motion" class="nav-link" data-scroll-target="#brownian-motion"><span class="header-section-number">15.3.4</span> Brownian Motion</a></li>
  <li><a href="#brief-history" id="toc-brief-history" class="nav-link" data-scroll-target="#brief-history"><span class="header-section-number">15.3.5</span> Brief history:</a></li>
  <li><a href="#diffusion" id="toc-diffusion" class="nav-link" data-scroll-target="#diffusion"><span class="header-section-number">15.3.6</span> Diffusion</a></li>
  <li><a href="#stokes-einstein-relation" id="toc-stokes-einstein-relation" class="nav-link" data-scroll-target="#stokes-einstein-relation"><span class="header-section-number">15.3.7</span> Stokes-Einstein relation</a></li>
  <li><a href="#interacting-colloidal-particles" id="toc-interacting-colloidal-particles" class="nav-link" data-scroll-target="#interacting-colloidal-particles"><span class="header-section-number">15.3.8</span> Interacting colloidal particles</a></li>
  <li><a href="#particle-dynamics" id="toc-particle-dynamics" class="nav-link" data-scroll-target="#particle-dynamics"><span class="header-section-number">15.3.9</span> Particle dynamics</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../soft-matter/soft-matter_intro.html">Complex disordered systems</a></li><li class="breadcrumb-item"><a href="../soft-matter/soft-matter_colloids.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Colloids</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Colloids</span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<div>
<div id="pyodide-1" class="exercise-cell">

</div>
<script type="pyodide-1-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIG1vZGlmeWluZyB0aGUgcGF0aCB0byBhZGQgdGhlIGNvZGUgZm9sZGVyXG5pbXBvcnQgc3lzXG5zeXMucGF0aC5pbnNlcnQoMCwgJ3NyYycpIn0=
</script>
</div>
<section id="kinds-of-colloids" class="level2" data-number="15.1">
<h2 data-number="15.1" class="anchored" data-anchor-id="kinds-of-colloids"><span class="header-section-number">15.1</span> Kinds of colloids</h2>
<p>Colloids are mixtures where one substance is dispersed throughout another. They consist of particles that are larger than typical molecules but small enough to remain suspended without settling. Examples include milk, fog, and paint.</p>
<p>Colloids can be classified based on the state of the <strong>dispersed phase</strong> and the <strong>dispersion medium</strong>. Depending on the particular mixture, one can obtain a wide variety of soft materials, with unique mechanical, optical, and thermal properties.</p>
<style>
.rotate-header {
    writing-mode: vertical-rl;
    transform: rotate(-90deg);
    text-align: center;
    vertical-align: middle;
    white-space: nowrap;
    padding: 1px;
    width: 0.5em;
      font-variant: small-caps;
    letter-spacing: 2px;
    font-size: 14px;
    font-family: "Segoe UI", sans-serif;
    line-height: 1.2;
  }
  .header {
    text-align: center;
    vertical-align: middle;
    white-space: nowrap;
    padding: 1px;
    width: 0.5em;
      font-variant: small-caps;
    letter-spacing: 2px;
    font-size: 14px;
    font-family: "Segoe UI", sans-serif;
    line-height: 1.2;
  }
  table {
    border-collapse: collapse;
  }
  th, td {
    border: 0px solid black;
    padding: 4px;
    vertical-align: top;
  }
</style>
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 40%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Dispersion Phase</th>
<th></th>
<th>Dispersion Medium</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>Solid</td>
<td>Liquid</td>
</tr>
<tr class="even">
<td>Solid</td>
<td><em>Solid suspension:</em><br>
pigmented plastics,<br>
stained glass,<br>
ruby glass, opal, pearl</td>
<td><em>Sol, colloidal suspension:</em><br>
metal sol,<br>
toothpaste, paint,<br>
ink, clay slurries, mud</td>
</tr>
<tr class="odd">
<td>Liquid</td>
<td><em>Solid emulsion:</em><br>
bituminous road paving,<br>
ice cream</td>
<td><em>Emulsion:</em><br>
milk, mayonnaise,<br>
butter, pharmaceutical creams</td>
</tr>
<tr class="even">
<td>Gas</td>
<td><em>Solid foam:</em><br>
zeolites, expanded polystyrene,<br>
‘silica gel’</td>
<td><em>Foam:</em><br>
froths, soap foam,<br>
fire-extinguisher foam</td>
</tr>
</tbody>
</table>
<p>Clearly, colloidal materials form an incredibly diverse class, and surround us in our everyday lives. Here are some visual examples from the table above:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/colloids.png" class="img-fluid figure-img"></p>
<figcaption>First row: opal, paint, smoke. Middle row: ice-cream (<em>gelato</em>), milk, fog. Bottom row: expanded polystyrene and foam. Source: unsplash.com</figcaption>
</figure>
</div>
<p>The <a href="https://goldbook.iupac.org/terms/view/C01172">IUPAC definition of colloids</a> is based on the idea that the particles are dispersed in a medium, creating a <em>subdivision</em> at the <strong>colloidal scale</strong>: approximately 1nm to 1µm.</p>
<p>The small sizes of colloids means that they are constantly subject to the collisions with the atom/molecules/particle of the medium, triggered by thermal fluctuations. Due to this, the colloids undergo <a href="../phase-transitions/Brownian-and-Langevin-dynamics.html">Brownian motion</a>. For each particle, the amount of energy received from the medium is of the order of <span class="math inline">\(k_B T\)</span> (the reference energy scale of thermal soft matter). This energy can be compared with the the potential energy to produce a dimensionless number, the <strong>gravitational Péclet number</strong></p>
<p><span class="math display">\[{\rm Pe}_g = \dfrac{\Delta m g R}{k_B T}\]</span></p>
<p>where <span class="math inline">\(R\)</span> is the radius of the colloid respectively, <span class="math inline">\(g\)</span> is the acceleration due to gravity, and <span class="math inline">\(\Delta m\)</span> is the <em>buoyant mass</em>, which for a spherical colloid is expressed as <span class="math inline">\(\Delta m = \dfrac{4\pi}{3}\Delta\rho R^3\)</span>, with <span class="math inline">\(\Delta \rho\)</span> being the density difference between the particle and the dispersion medium (the <em>solvent</em>). We have a colloidal suspension only when <span class="math inline">\({\rm Pe}_g \lesssim 1\)</span>, i.e.&nbsp;when Brownian motion is only marginally perturbed by the effects of gravity.</p>
</section>
<section id="stability-of-colloids-and-colloid-colloid-interactions" class="level2 page-columns page-full" data-number="15.2">
<h2 data-number="15.2" class="anchored" data-anchor-id="stability-of-colloids-and-colloid-colloid-interactions"><span class="header-section-number">15.2</span> Stability of colloids and colloid-colloid interactions</h2>
<p>A colloidal dispersion is said to be <strong>stable</strong> if it is able to remain dispersed and Brownian for a long time (typically, significantly longer than the experimental observation time). Unstable colloids undergo aggregation or sedimentation due to the dominance of attractive forces or gravity.</p>
<p>For example, consider a colloidal suspension like milk. Milk is an emulsion where fat droplets are dispersed in water and stabilised by proteins. If lemon juice (an acid) is added, the dispersion medium (water) changes, the pH drops, and the emulsion is <em>destabilised</em>. This causes the proteins to coagulate, leading to the separation of curds (solid) and whey (liquid).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/Curds_and_whey.jpg" class="img-fluid figure-img"></p>
<figcaption>Curds and whey resulting from the destabilisation of milk, a colloidal emulsion. (Wikimedia)</figcaption>
</figure>
</div>
<p>It is clear from this example that the nature of the dispersed phase and the dispersed medium ultimately determine the stability of colloidal dispersions. What ultimately matters for the stability is whether the colloids have a propensity to aggregate or not. This propensity is quantified in terms of <strong>colloidal interactions</strong>.</p>
<section id="fundamental-and-effective-forces" class="level3" data-number="15.2.1">
<h3 data-number="15.2.1" class="anchored" data-anchor-id="fundamental-and-effective-forces"><span class="header-section-number">15.2.1</span> Fundamental and effective forces</h3>
<p>At the colloidal scales, only two kinds of fundamental forces are relevant: gravity and electro (and occasionally magneto) static forces. As we have seen above, when a system is truly colloidal, gravitational contributions are assumed to be small, so in effect for a non magnetic colloid (which is the vast majority of colloidal systems) only electrostatic forces are fundamentally important.</p>
<p>However, colloidal dispersions consist of large particles carrying many charges both in the dispersed phase and the surrounding medium, arranged disorderly at the atomic scale. This makes a microscopic description of all charges and the resulting electrostatic fields not only unfeasible but also ineffective for understanding colloidal systems in terms of key characteristics such as particle size, density, and spatial distribution. The fundamental issue is the one of time-scales: the motion of colloids is much slower than the motion of individual ions or molecules. Over such longer timescales, many interactions at the <strong>microscopic</strong> atomistic scale take place and we can think of taking averages to extract <strong>macroscopic</strong>, <strong>effective</strong> interactions at the colloidal scale <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<p>This is especially important due to** quantum fluctuations**: the uncertainty principle means that electron clouds around atoms are not fixed but exhibit intrinsic fluctuations in their charge distribution. Perturbative approaches allow us to capture the effective forces resulting from such fluctuations.</p>
<p>There are many examples of such effective forces <span class="citation" data-cites="lekkerkerker2024colloids">(<a href="#ref-lekkerkerker2024colloids" role="doc-biblioref">Lekkerkerker, Tuinier, and Vis 2024</a>)</span>. One you may already know is the Van der Waals interaction. For colloids, we have additional relevant forces, such as the double layer interaction and the depletion interaction. We detail them here below.</p>
</section>
<section id="van-der-waals-interaction" class="level3 page-columns page-full" data-number="15.2.2">
<h3 data-number="15.2.2" class="anchored" data-anchor-id="van-der-waals-interaction"><span class="header-section-number">15.2.2</span> Van der Waals interaction</h3>
<p>The London-van der Waals <strong>dispersion forces</strong> arise from the interaction between <strong>instantaneous dipoles</strong> in overall neutral atoms or molecules. We know fro, classical electrostatics that static dipoles interact via the dipole-dipole interaction, with a potential strength which decays like <span class="math inline">\(1/r^3\)</span>, where <span class="math inline">\(r\)</span> is the separation between two dipoles.</p>
<p>More in general, neutral atom or molecules have electronic clouds that are fluctuating and not symmetrically distributed, creating a <strong>temporary dipole</strong>. Such instantaneous dipole <strong>induces</strong> a dipole in a neighboring atom or molecule by distorting its electron cloud.</p>
<p>The interaction energy between two dipoles <span class="math inline">\(\mu_1\)</span> and <span class="math inline">\(\mu_2\)</span> separated by a distance <span class="math inline">\(r\)</span> is proportional to: <span class="math display">\[
U \propto -\frac{\mu_1 \mu_2}{r^3}
\]</span></p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Johannes_Diderik_van_der_Waals.jpg/960px-Johannes_Diderik_van_der_Waals.jpg" class="img-fluid figure-img" width="150"></p>
<figcaption>Johannes Diderik van der Waals (1837-1923), who hypothesised the existence of forces responsible for the non-ideal behaviour of gases.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="figs/hamaker-london.png" class="img-fluid figure-img" width="300"></p>
<figcaption>Left: Hugo C. Hamaker (1905-1993), who explained the origin of Van der Waals forces, and Fritz London (1900-1954), who quantified the dispersion force.</figcaption>
</figure>
</div>
</div></div><p>The dipole moments fluctuate due to quantum mechanical effects. The average interaction energy is derived using perturbation theory and is proportional to the polarisabilities <span class="math inline">\(\alpha_1\)</span> and <span class="math inline">\(\alpha_2\)</span> of the two particles:</p>
<div style="border: 2px solid red; padding: 1em; border-radius: 8px; background-color: transparent;">
<p><span class="math display">\[
    U(r) = -\frac{C}{r^6}
\]</span></p>
</div>
<p>where <span class="math inline">\(C \propto \alpha_1 \alpha_2\)</span> depends on the polarisabilities and ionization energies of the particles.</p>
<p>The resulting <span class="math inline">\(r^{-6}\)</span> dependence is also referred to as the <strong>London dispersion force</strong>, which can be derived within quantum-mechanical perturbation theory <span class="citation" data-cites="london1937general">(<a href="#ref-london1937general" role="doc-biblioref">London 1937</a>)</span>.</p>
<p>We can then assume to take two identical spherical colloids of radius <span class="math inline">\(R\)</span> at distance <span class="math inline">\(h\)</span> and that every volume element of such spheres interacts with the London dispersion force (see the semi-classical approach of Hamaker <span class="citation" data-cites="hamaker1937london">Hamaker (<a href="#ref-hamaker1937london" role="doc-biblioref">1937</a>)</span> for illustration). Integrating over all volume elements yields the collodial spheres <strong>Van der Waals attractive potential</strong> in the form</p>
<div style="border: 2px solid red; padding: 1em; border-radius: 8px; background-color: transparent;">
<p><span class="math display">\[W_{wdW}(h)=-\dfrac{A-H}{g}f(h/R)\]</span></p>
</div>
<p>where <span class="math inline">\(A_H\)</span> is the <strong>Hamaker constant</strong> and <span class="math inline">\(f(h/R)\)</span> is</p>
<p><span class="math display">\[f(h/R) = \left[ \frac{2R^2}{h^2 - 4R^2} + \frac{2R^2}{h^2} + \ln\left( \frac{h^2 - 4R^2}{h^2} \right) \right]\]</span></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Sketch of a derivation of colloid-coilloid Van der Waals potential
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Each volume element in one sphere interacts with each in the other sphere via:</p>
<p><span class="math display">\[
\phi(r) = -\frac{C}{r^6}
\]</span></p>
<p>So the total interaction energy is:</p>
<p><span class="math display">\[
U(h) = -C \iint \frac{1}{|\mathbf{r}_1 - \mathbf{r}_2|^6} \, dV_1 \, dV_2
\]</span></p>
<p>Let:</p>
<ul>
<li>Sphere 1 be centered at <span class="math inline">\((0, 0, 0)\)</span>,</li>
<li>Sphere 2 be centered at <span class="math inline">\((0, 0, h)\)</span>,</li>
<li><span class="math inline">\(\mathbf{r}_1 = \mathbf{r}\)</span>, <span class="math inline">\(\mathbf{r}_2 = \mathbf{r}'\)</span></li>
</ul>
<p>Then <span class="math inline">\(|\mathbf{r}_1 - \mathbf{r}_2| = |\mathbf{r} - \mathbf{r}'|\)</span>, and the integral becomes:</p>
<p><span class="math display">\[
U(h) = -C \iiint_{|\mathbf{r}| \leq R} \iiint_{|\mathbf{r}' - h\hat{z}| \leq R} \frac{1}{|\mathbf{r} - \mathbf{r}'|^6} \, d^3\mathbf{r} \, d^3\mathbf{r}'
\]</span></p>
<p>Hamaker evaluated this by integrating over the <strong>densities of interacting atoms</strong> with number density <span class="math inline">\(\rho\)</span> in both spheres. The result:</p>
<p><span class="math display">\[
U(h) = -\rho^2 C \iint \frac{1}{|\mathbf{r}_1 - \mathbf{r}_2|^6} \, dV_1 \, dV_2
\]</span></p>
<p>Defining the <strong>Hamaker constant</strong>:</p>
<p><span class="math display">\[
A_H = \pi^2 \rho^2 C
\]</span></p>
<p>So,</p>
<p><span class="math display">\[
U(h) = -\frac{A_H}{\pi^2} \iint \frac{1}{|\mathbf{r}_1 - \mathbf{r}_2|^6} \, dV_1 \, dV_2
\]</span></p>
<p>This six-dimensional integral can be evaluated analytically for spheres, yielding:</p>
<p><span class="math display">\[
U(h) = -\frac{A_H}{6} \left[ \frac{2R^2}{h^2 - 4R^2} + \frac{2R^2}{h^2} + \ln\left( \frac{h^2 - 4R^2}{h^2} \right) \right]
\]</span></p>
</div>
</div>
</div>
<div>
<div id="pyodide-2" class="exercise-cell">

</div>
<script type="pyodide-2-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiaW1wb3J0IG51bXB5IGFzIG5wXG5pbXBvcnQgcGxvdHRpbmdcbiMgcGFyYW1ldGVyczogY2hhbmdlIHRoZW0gdG8gZXhwbG9yZSB0aGUgaW50ZXJhY3Rpb24hXG5SID0gNS4wICAjIFJhZGl1cyBvZiB0aGUgY29sbG9pZFxuQV9IID0gMWUtMjAgICMgSGFtYWtlciBjb25zdGFudCAoaW4gSm91bGVzKVxuaCA9IG5wLmxpbnNwYWNlKDIuMDEgKiBSLCAxMCtSKjIsIDEwMDApICAjIFNlcGFyYXRpb24gZGlzdGFuY2UgKGggPiAyUilcbiMgVmFuIGRlciBXYWFscyBwb3RlbnRpYWxcbmRlZiB2YW5fZGVyX3dhYWxzX3BvdGVudGlhbChoLCBSLCBBX0gpOlxuICAgIGZfaF9SID0gKDIgKiBSKioyIC8gKGgqKjIgLSA0ICogUioqMikpICsgKDIgKiBSKioyIC8gaCoqMikgKyBucC5sb2coKGgqKjIgLSA0ICogUioqMikgLyBoKioyKVxuICAgIHJldHVybiAtQV9IICogZl9oX1JcblxuIyBjb21wdXRlIHBvdGVudGlhbFxuV192ZFcgPSB2YW5fZGVyX3dhYWxzX3BvdGVudGlhbChoLCBSLCBBX0gpXG4jIGNvbnZlbmllbmNlIHBsb3R0aW5nIGZ1bmN0aW9uLCB5b3UgY2FuIHVzZSBtYXRwbG90bGliIGlmIHlvdSBwcmVmZXJcbnBsb3R0aW5nLnNpbXBsZV9wbG90KGgsV192ZFcpIn0=
</script>
</div>
<p>Van der Waals interactions are considered to be <strong>short-range</strong> forces in the sense that their decay rate(e.g.&nbsp;London’s <span class="math inline">\(1/r^6\)</span>) is much faster than Coulombic interactions (<span class="math inline">\(1/r\)</span>). Importantly, since their origin resides in the fluctuation of charges on the colloids, their strength is <em>not additive</em>: simply summing all the pairwise interactions does not fully accurately account for man-body effects. We often rely on such two-body approximations, but we should be aware that they are a simplified scenario.</p>
</section>
<section id="double-layer-interaction" class="level3" data-number="15.2.3">
<h3 data-number="15.2.3" class="anchored" data-anchor-id="double-layer-interaction"><span class="header-section-number">15.2.3</span> Double-layer interaction</h3>
<p>Colloids are often charged. The solution they are immersed also has an <strong>inhomogeneous</strong> distribution of ions: there will be</p>
<ul>
<li><p><strong>co-ions</strong> (same charge as the colloid) that will be pushed away from the colloid surface, while</p></li>
<li><p><strong>counter-ions</strong> (opposite charge) will accumulate at the surface.</p></li>
</ul>
<p>These two different concentrations of oppositely charged ions form what is called a <strong>double layer</strong> and its property (such as its width) are obviously controlled by the number of ions in the solvent, which can be tuned by adding or removing, for example, salts.</p>
<p>Suppose we now have two colloids of the same size and charges in the solvent. Th charges in their double layers will interact giving rise to a <strong>repulsive interaction</strong>. This interaction is referred to as <strong>screened-Coulomb</strong> (as teh electrostatic interaction is <em>screened by the presence of the ions</em> or <strong>double layer repulsion.</strong> We are not going to derive it, but it can be shown that, for a colloid of radius <span class="math inline">\(R\)</span> in solvent with salt density <span class="math inline">\(n_s\)</span> it can approximated by an exponential decay</p>
<div style="border: 2px solid red; padding: 1em; border-radius: 8px; background-color: transparent;">
<p><span class="math display">\[
W_{DR}(h) = B\dfrac{R}{\lambda_B}\exp{(-h/\lambda_D)}
\]</span></p>
</div>
<p>where <span class="math inline">\(\lambda_D\)</span> is called the <strong>Debye length</strong></p>
<p><span class="math display">\[
\lambda_D = \sqrt{\dfrac{1}{8\pi\lambda_B n_s}}
\]</span></p>
<p>while <span class="math inline">\(\lambda_B\)</span> is the <strong>Bjerrum length</strong>, which is itself derived from the characteristic distance at which two elementary charges have energy <span class="math inline">\(k_B T\)</span> <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p><span class="math display">\[
\lambda_B = \dfrac{e^2}{4\pi \varepsilon_0\varepsilon_r k_B T}
\]</span></p>
<p>The coefficient <span class="math inline">\(B\)</span> is a material properties that depend on the surface potential. We are not going more into the details of these features, which are important for the design of colloidal experiments.</p>
<hr>
<p>From our point of view, what matters is that identical colloids in solution appear to have two interactions of opposite sign</p>
<ul>
<li><p>a van der Waals components, typically attractive and emergent from induced dipole -dipole ineractions emerging from quantum fluctuations of the electronic clouds</p></li>
<li><p>a double layer component, repulsive in nature, and resulting from the electrostatic repulsions induced by ions and counterions</p></li>
</ul>
<p>The <strong>sum</strong> of the two gives rise to the <strong>DLVO</strong> (Derjaguin–Landau–Verwey–Overbeek) <strong>interaction</strong> which is an elementary model for colloid stability and aggregation.</p>
<div>
<div id="pyodide-3" class="exercise-cell">

</div>
<script type="pyodide-3-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiXG5pbXBvcnQgbnVtcHkgYXMgbnBcbmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHRcblxuUiA9IDEuMCAgIyBSYWRpdXMgb2YgdGhlIGNvbGxvaWQgKG1pY3JvbikgXG5oID0gbnAubGluc3BhY2UoMi4wMSAqIFIsIDIrUioyLCAxMDAwKSAgIyBTZXBhcmF0aW9uIGRpc3RhbmNlIChoID4gMlIpXG4jIFZhbiBkZXIgV2FhbHMgYXR0cmFjdGl2ZSBwb3RlbnRpYWxcbmRlZiB2YW5fZGVyX3dhYWxzX3BvdGVudGlhbChoLCBSLCBBX0gpOlxuICAgIGZfaF9SID0gKDIgKiBSKioyIC8gKGgqKjIgLSA0ICogUioqMikpICsgKDIgKiBSKioyIC8gaCoqMikgKyBucC5sb2coKGgqKjIgLSA0ICogUioqMikgLyBoKioyKVxuICAgIHJldHVybiAtQV9IICogZl9oX1JcbiMgZG91YmxlIGxheWVyIHJlcHVsc2l2ZSBwb3RlbnRpYWxcbmRlZiBkb3VibGVfbGF5ZXIoaCwgUixCLG5zICk6XG4gICAgbGFtYmRhQiA9IDAuMDAwNyAjIHR5cGljYWwgQmplcnJ1bSBsZW5ndGggZm9yIHdhdGVyIGF0IDI1IGRlZ3JlZXMgKG1pY3JvbilcbiAgICBsYW1iZGFEID0gbnAuc3FydCgxLyg4Km5wLnBpKmxhbWJkYUIqbnMpKVxuICAgIHByaW50KFwiRGVieWUgbGVuZ3RoIG9mXCIsIGxhbWJkYUQpXG4gICAgcmV0dXJuICBCKlIvbGFtYmRhQipucC5leHAoLWgvbGFtYmRhRClcbiJ9
</script>
</div>
<div>
<div id="pyodide-4" class="exercise-cell">

</div>
<script type="pyodide-4-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImNhcHRpb24iOiJETFZPIHBvdGVudGlhbCBbcHJlc3MgY3RybC9jbWQgW0VOVEVSXSB0byBydW5dIiwiZWRpdCI6dHJ1ZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIHBhcmFtZXRlcnM6IENIQU5HRSB0aGVtIHRvIGV4cGxvcmUgdGhlIGludGVyYWN0aW9uIVxuXG5BX0ggPSAxLjAgICMgSGFtYWtlciBjb25zdGFudCAoa0JUKVxuQiA9IDUwLjAgIyBkb3VibGUgbGF5ZXIgZW5lcmd5IHNjYWxlIFxuc2FsdF9ucyA9IDIwMDAgIyBzYWx0IGNvbmNlbnRyYXRpb24gKHBhcnRpY2xlcy9taWNyb25eMylcblxuIyBjb21wdXRlIHBvdGVudGlhbHNcbldfdmRXID0gdmFuX2Rlcl93YWFsc19wb3RlbnRpYWwoaCwgUiwgQV9IKVxuV19EUiA9IGRvdWJsZV9sYXllcihoLCBSLCBCLHNhbHRfbnMpXG5ETFZPID0gV192ZFcrV19EUlxuXG5cbmltcG9ydCBwbG90dGluZ1xucGxvdHRpbmcubXVsdGlfcGxvdChoLCBXX3ZkVywgV19EUixETFZPLFxuICAgIHhsYWJlbD1cImggW8K1bV1cIiwgeWxhYmVsPVwiSW50ZXJhY3Rpb24gc3RyZW5ndGggW2tCVF1cIilcbiMgbmljZXIgY2xpcGluZ1xueWxpbSAgPSBtYXgoRExWTy5tYXgoKSwwLjUpXG5wbHQueWxpbSgteWxpbSoxLjEsIHlsaW0qMS4xKVxucGx0LnNob3coKSJ9
</script>
</div>
<div class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Activity
</div>
</div>
<div class="callout-body-container callout-body">
<p>Modiify the script above and test graphically that:</p>
<ol type="1">
<li>When the salt concentration is low, the double layer repulsion dominates the DVLO interaction</li>
<li>There are salt concentrations where two minima occur in the DLVO potential: on at very close distance (dominated by the Van der Waals attraction) and one, much shallower, at intermediate distances comparable to <span class="math inline">\(2(R+\lambda_D)\)</span> . This minimum can lead to weak aggregation of colloids</li>
<li>Large salt concentrations depress the DVLO maximum altogether and eventually the Van der Waals interaction dominates.</li>
</ol>
</div>
</div>
</section>
<section id="steric-interactions-and-depletion-interactions" class="level3 page-columns page-full" data-number="15.2.4">
<h3 data-number="15.2.4" class="anchored" data-anchor-id="steric-interactions-and-depletion-interactions"><span class="header-section-number">15.2.4</span> Steric interactions and depletion interactions</h3>
<p>We have seen that quantum fluctuations from the uncertainty principle can be recast via a semi-classical approach into effective short-range interactions (van-der Waals). Another fundamental quantum principle – Paulis’s <strong>exclusion principle</strong> – is also at the source of key effective interactions that can be understood in a semi-classical picture. Indeed, the main consequence of the exclusion principle is that since electrons cannot occupy the same quantum state, there are minimal distances below which atoms cannot be brought together.</p>
<p>This simply means that as we take a pair of atoms, below a certain distance they <strong>repel</strong> each other with very strong forces, even in the absence of double layer interactions. These <strong>repulsive interactions</strong> can be approximated in various ways: their strength depends on the details of the atoms and hence, in the case of colloids, on the details of the materials composing the colloids. We call these excluded volume interactions <strong>steric interactions</strong><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
<p>These fundamentally repulsive interactions mean that that, in a system with <span class="math inline">\(N\)</span> colloids, an additional <span class="math inline">\(N+1\)</span> colloid does not have access to the entire configuration space: there is a large <strong>excluded volume</strong> due to the presence of the other colloids.</p>
<p>What is intriguing of these interactions is that, even if they are purely repulsive, they can collectively give rise to effective attractive interactions: <strong>attraction through repulsion</strong>.</p>
<section id="a-simple-example-particles-in-a-one-dimensional-line-hard-rods" class="level4" data-number="15.2.4.1">
<h4 data-number="15.2.4.1" class="anchored" data-anchor-id="a-simple-example-particles-in-a-one-dimensional-line-hard-rods"><span class="header-section-number">15.2.4.1</span> A simple example: particles in a one-dimensional line (<em>hard rods</em>)</h4>
<p>As an introductory example, let us consider a very simple, idealised system of purely repulsive objects. Let us confine them along a one dimensional line, bounded by hard (repulsive and impenetrable) walls seperated by the distance <span class="math inline">\(L\)</span>. Assume the objects to be <span class="math inline">\(N\)</span> spheres of diameter <span class="math inline">\(d\)</span>, or (equivalently) <em>hard rods</em> of length <span class="math inline">\(d\)</span>. They cannot overlap so, once they are placed along the line, their order cannot change.</p>
<p>What we want to know is how these hard objects, that interact solely via repulsive interactions, distribute themselves along the line. The problem is a classic of statistical mechanics and thanks to its one-dimensional nature can be addrssed extensively using analytical methods.</p>
<p>Here we take a more algorithmic approach, and directly sample the probability density distribution <span class="math inline">\(\rho(x)\)</span> of finding a particle center at position <span class="math inline">\(x\)</span>.</p>
<p>To do so, we do the following:</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Algorithm
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>position the particles in a valid configuration (no overlaps with other particles or the walls)</li>
<li>pick a particle at random</li>
<li>move it slightly along the line</li>
<li>test the if the new position is valid (no overlaps)</li>
<li>if valid, accept the move otherwise, reject</li>
<li>go back to (2)</li>
</ol>
</div>
</div>
<p>This very simple algorithm is based on a <strong>trial</strong> move and an <strong>acception/rejection</strong> step. This is the heart of a very popular molecular simulation method, named <strong>Metropolis Monte-Carlo Chain method</strong>.</p>
<p>Here below you have a very simple implementation in <code>python</code>.</p>
<div>
<div id="pyodide-5" class="exercise-cell">

</div>
<script type="pyodide-5-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiIxRCBoYXJkIHBhcnRpY2xlcyBbcHJlc3MgY3RybC9jbWQgW0VOVEVSXSB0byBydW5dIiwiZWRpdCI6dHJ1ZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJpbXBvcnQgbnVtcHkgYXMgbnBcbmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHRcblxuI251bWJlciBvZiBwYXJ0aWNsZXMgXG5OID0gMThcbiMgcGFydGljbGUgZGlhbWV0ZXJcbmQgPSAxLjBcbiMgYm94IHNpemVcbkwgPSAyNC4wXG4jIG1heGltdW0gZGlzcGxhY2VtZW50IGFuZCBudW1iZXIgb2Ygc3RlcHNcbmRlbHRhLCBzdGVwcyA9ICAwLjUsIDEwMDAwMFxuIyBpbml0aWFsIGNvbmZpZ3VyYXRpb24gXG5wb3MgPSBucC5saW5zcGFjZShkLCBMIC0gZCwgTilcblxuZGVmIHZhbGlkKHApOlxuICAgIFwiQ2hlY2sgdGhhdCBjb25zZWN1dGl2ZSAoc29ydGVkKSBwYXJ0aWNsZXMgYXJlIG5vbi1vdmVybGFwcGluZ1wiXG4gICAgcmV0dXJuIG5wLmFsbChwID49IGQvMikgYW5kIG5wLmFsbChwIDw9IEwtZC8yKSBhbmQgbnAuYWxsKG5wLmRpZmYocCkgPj0gZClcblxucG9zaXRpb25zX3NhbXBsZXMgPSBbXVxuXG5mb3Igc3RlcCBpbiByYW5nZShzdGVwcyk6XG4gICAgaSA9IG5wLnJhbmRvbS5yYW5kaW50KE4pXG4gICAgbW92ZSA9IG5wLnJhbmRvbS51bmlmb3JtKC1kZWx0YSwgZGVsdGEpXG4gICAgbmV3X3BvcyA9IHBvcy5jb3B5KClcbiAgICBuZXdfcG9zW2ldICs9IG1vdmVcbiAgICAjIHNwcnRpbmcgYWxsb3dzIG90IG9ubHkgY2hlY2sgZm9yIGNvbnNlY3V0aXZlIHBhcnRpY2xlc1xuICAgIG5ld19wb3Muc29ydCgpXG4gICAgaWYgdmFsaWQobmV3X3Bvcyk6XG4gICAgICAgIHBvcyA9IG5ld19wb3NcbiAgICBpZiBzdGVwICUgMTAwID09IDA6XG4gICAgICAgIHBvc2l0aW9uc19zYW1wbGVzLmV4dGVuZChwb3MpXG5cbnBsdC5oaXN0KHBvc2l0aW9uc19zYW1wbGVzLCBiaW5zPTEyOCwgcmFuZ2U9KDAsIEwpLCBkZW5zaXR5PVRydWUpXG5wbHQueGxhYmVsKFwiUG9zaXRpb24gW2RdXCIpXG5wbHQueWxhYmVsKFwiUHJvYmFiaWxpdHkgZGVuc2l0eVwiKVxucGx0LnRpdGxlKFwiSGlzdG9ncmFtIG9mIHBhcnRpY2xlIHBvc2l0aW9uc1wiKVxucGx0LnNob3coKSJ9
</script>
</div>
<p>The code should produce a final probability distribution along the <span class="math inline">\(x\)</span> axis. The main control parameter here is the <strong>packing fraction</strong>, i.e.&nbsp;<span class="math inline">\(\phi = \dfrac{dN}{L}\)</span>, the coverage of the line. If you take high values for the packing fraction you will obserbve an interesting effect: the distribution <span class="math inline">\(\rho(x)\)</span> displays distinctive modulations. Surely, these reflect the layering of the particles along the line, due to their hard-core interactions. However, the oscillations are even more interesting as we observe that the particles are morelikely to be found near the walls than away from them.</p>
<p>Reflect on this point. In the complete absence of any attractive interactions, we find that the hard particles are <em>preferentially</em> located close to the walls. It is <em>as if</em> the walls exerted an <em>attractive force</em> capable of pulling the particles close to them. In reality, the force is purely statistical in nature. It ismerely the result of the <strong>entropic</strong> advantage that the <strong>entire</strong> system acquire when the particles are closer to the walls: simply put,if the first (and last) particles are close to the walls, there is more space for the particles in the middle, hence a larger number of configurations and hence larger <strong>configurational entropy</strong>.</p>
<p>Even if the force is statistical, it is not less real: in this simplified case, it leads to the layering of the density profile. Its generalisation to less idiealised conditions leads to a family of forces that are essential for the aggregation of soft matter which are called <strong>depletion interactions</strong>.</p>
</section>
<section id="asakura-oosawa-depletion-potential" class="level4 page-columns page-full" data-number="15.2.4.2">
<h4 data-number="15.2.4.2" class="anchored" data-anchor-id="asakura-oosawa-depletion-potential"><span class="header-section-number">15.2.4.2</span> Asakura-Oosawa depletion potential</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/depletion.svg" class="img-fluid figure-img"></p>
<figcaption>Mixture of colloids (yellow) and polymers (squiggly lines inside red circles). The depletion layers are as thick as the polymer radius (red circles) and are indicated with the dashes around the colloids. When the two layers do not overlap, the osmotic pressure due to the polymers on the colloids is balanced. When there is overlap, there is a region inaccessible to the polymers (purple) and the pressure is unbalanced, leading to aggregation.</figcaption>
</figure>
</div>
<p>The simple unidimensional scenario can be extended to a more interesting situation of hard-core colloidal particles dispersed in a medium where other smaller, repulsive particles (e.g.&nbsp;coiled polymers) are also dispersed. It is not important atthistage to know the details of such polymeric structures. We will ignore their internal structure and we wil also ignore their mutual interactions. We will only consider for the moment how they interact with the colloids and how this mediates an interaction <em>between</em> the colloids. We call these idealised polymers <em>penetrable hard spheres</em>.</p>
<p>This assumption yield a great simplification: the polymers, on their own, are an ideal gas. Their chemical potnetial is given by</p>
<p><span id="eq-ideal-mu"><span class="math display">\[\mu = k_BT \ln \eta_b \tag{15.1}\]</span></span></p>
<p>We assume also to work in an ensemble at fixed volume <span class="math inline">\(V\)</span>, temperature <span class="math inline">\(T\)</span> and chemical potential <span class="math inline">\(\mu\)</span>: this is the <strong>grand canonical ensemble</strong>. This means that we imagine that there is some ideal reservoir with which we can exchange polymers in order to maintain the chemical potential constant.</p>
<p>The grand potential for such ideal polymers is given by</p>
<p><span class="math display">\[\Omega = -k_BT e^{\mu/k_B T}V_{\rm accessible}\]</span></p>
<p>where <span class="math inline">\(V_{\rm accessible}\)</span> is the accessible volume. In the absence of the colloids, the entire volume <span class="math inline">\(V\)</span> is accessible.</p>
<p>Let’s image to intrudce two colloids at separation <span class="math inline">\(r\)</span>. For all <span class="math inline">\(r&gt; 2(R+\delta)=R_d\)</span>, the accessible volume is $<span class="math inline">\(V_{\rm accessible}^{\infty}=V-2V_{\rm exclusion}\)</span>, where <span class="math inline">\(R_d\)</span> is the <strong>depletion radius</strong> and <span class="math inline">\(V_{\rm exclusion}\)</span> is the inaccessible region due to the colloid-polymer interaction around each colloid:</p>
<p><span class="math display">\[\begin{aligned}
V_{\rm exclusion}&amp; = V_{\rm outer}-V_{\rm inner}\\
&amp;= \dfrac{4\pi}{3}\left((R+\delta)^3-R^3\right)
\end{aligned}
\]</span></p>
<p>Changing the separation between the two colloids but maintaining <span class="math inline">\(r&gt;2R_d\)</span> does not change the grand potential: there is no free energy advantage and hence no effective interaction.</p>
<p>Instead, it is only when we take the colloids <em>closer</em> than <span class="math inline">\(2R_d\)</span> that we see a free energy difference. When <span class="math inline">\(r&lt;2R_d\)</span> (and, obviously, <span class="math inline">\(r&gt;2R\)</span>) an overlap region is formed (the lens-shaped region of tha figur above). Its volume can be calculated simply from geometrical considerations and it is <span id="eq-voverlap"><span class="math display">\[
V_{\mathrm{overlap}}(r)=\dfrac{4 \pi}{3} R_d^3\left[1-\frac{3}{4} \frac{r}{R_d}+\frac{1}{16}\left(\frac{r}{R_d}\right)^3\right]
\tag{15.2}\]</span></span></p>
<p>Th new accessible volume is <span class="math display">\[V_{\rm accessible}\prime=V-2V_{\rm exclusion}+V_{\mathrm{overlap}}\]</span>. The interaction between the two colloids resulting from the free energy adgvantage is called <strong>potential of mean force</strong> <span class="math inline">\(W(r)\)</span>. It is expressed as</p>
<p><span class="math display">\[
\begin{aligned}
W_{\rm AO}(r) = \Omega(r)-\Omega^{\infty} &amp; =-k_BT e^{m/k_B T}\left(V_{\rm accessible}(r)-V_{\rm accessible}(\infty)\right)\\
&amp; = -k_BT e^{m/k_B T}\left[V-2V_{\rm exclusion}+V_{\mathrm{overlap}}(r)-(V-2V_{\rm exclusion})\right]\\
&amp; = -k_BT e^{m/k_B T} V_{\mathrm{overlap}(r)}
\end{aligned}
\]</span></p>
<p>We can now re-use the ideal polymer chemical potential definition <a href="#eq-ideal-mu" class="quarto-xref">Equation&nbsp;<span>15.1</span></a> and the gemoetrical expression for <span class="math inline">\(V_{\mathrm{overlap}}\)</span> in <a href="#eq-voverlap" class="quarto-xref">Equation&nbsp;<span>15.2</span></a> to finally write the <strong>Asakura-Oosawa</strong> potential</p>
<div style="border: 2px solid red; padding: 1em; border-radius: 8px; background-color: transparent;">
<p><span class="math display">\[
W_{\rm AO} (r) = - \dfrac{4 \pi \eta_b k_B T}{3} (R+\delta)^3\left[1-\dfrac{3}{4} \dfrac{r}{R+\delta}+\frac{1}{16}\left(\dfrac{r}{R+\delta}\right)^3\right] \quad 2R\leq r&lt; 2R+d\delta
\]</span></p>
</div>
<div>
<div id="pyodide-6" class="exercise-cell">

</div>
<script type="pyodide-6-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImNhcHRpb24iOiJBc2FrdXJhLU9vc2F3YSBwb3RlbnRpYWwgW3ByZXNzIGN0cmwvY21kIFtFTlRFUl0gdG8gcnVuXSIsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiXG5pbXBvcnQgbnVtcHkgYXMgbnBcbmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHRcblxuIyBQYXJhbWV0ZXJzIChjaGFuZ2UgdG8gZXhwbG9yZSlcblIgPSAxLjAgICAgICAgICAgICMgQ29sbG9pZCByYWRpdXNcbmRlbHRhID0gMC4yICAgICAgICMgUG9seW1lciByYWRpdXNcbmV0YV9iID0gMC4xICAgICAgICMgUG9seW1lciBjb25jZW50cmF0aW9uIChkaW1lbnNpb25sZXNzKVxua0JUID0gMS4wICAgICAgICAgIyBTZXQga0JUPTEgZm9yIHJlZHVjZWQgdW5pdHNcblxuIyBEZXBsZXRpb24gcmFkaXVzXG5SZCA9IFIgKyBkZWx0YVxuXG4jIHIgdmFsdWVzOiBmcm9tIGNvbnRhY3QgKDJSKSB1cCB0byAzKFIrZGVsdGEpXG5yID0gbnAubGluc3BhY2UoMipSLCAzKlJkLCA1MDApXG5cbmRlZiBBT19wb3RlbnRpYWwociwgUiwgZGVsdGEsIGV0YV9iLCBrQlQpOlxuICAgIFJkID0gUiArIGRlbHRhXG4gICAgIyBPbmx5IGRlZmluZWQgZm9yIDJSIDw9IHIgPCAyUmRcbiAgICBXID0gbnAuemVyb3NfbGlrZShyKVxuICAgIG1hc2sgPSAociA+PSAyKlIpICYgKHIgPCAyKlJkKVxuICAgIHggPSByW21hc2tdIC8gUmRcbiAgICBXW21hc2tdID0gLSAoNCAqIG5wLnBpICogZXRhX2IgKiBrQlQgLyAzKSAqIFJkKiozICogKDEgLSAwLjc1ICogeCArIDAuMDYyNSAqIHgqKjMpXG4gICAgcmV0dXJuIFdcblxuV19BTyA9IEFPX3BvdGVudGlhbChyLCBSLCBkZWx0YSwgZXRhX2IsIGtCVClcblxucGx0LnBsb3QociwgV19BTylcbnBsdC5nY2EoKS5zZXQoeGxhYmVsPVwiU2VwYXJhdGlvbiAkci9SJFwiLCB5bGFiZWw9XCIkV197QU99KHIpJFwiLCB0aXRsZT1cIkFzYWt1cmEtT29zYXdhIERlcGxldGlvbiBQb3RlbnRpYWxcIilcbnBsdC5zaG93KCkifQ==
</script>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Force-based derivation of the AO interaction
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When the colloids are so close the polymers cannot enter the lens-shaped region between the two colloids. This gap leads therefore to an <em>uniform</em> distribution of polymers which results in an pressure difference: the outer polymers push the colloids together, producing an effective attractive force. Such pressure resulting from an uncompensated concentration gradient is called <strong>osmotic</strong>.</p>
<p>The lens-shaped overlap region between the two colloids consists of two identical spherical caps, each subtending an angle <span class="math inline">\(\theta_0\)</span> at the center of the colloid. From the given geometry, the angle is such that <span class="math display">\[\cos\theta_0 = \dfrac{r}{2R_d}.\]</span></p>
<p>The uncompensated pressure acts on such surface.</p>
<p>For symmetry reasons, only the forces along the axis connecting the wto spheres contribute to the total force. For a given angle <span class="math inline">\(\theta\)</span> the components is proportional to <span class="math inline">\(P\cos\theta\)</span> where <span class="math inline">\(P\)</span> is the pressure exerted by the ideal gas of polymers is simply <span class="math inline">\(P=\eta_b kT\)</span> where <span class="math inline">\(\eta_b\)</span> is the polymer concentration. The surface element on which this pressure acts for a small increment <span class="math inline">\(d\theta\)</span> is <span class="math display">\[dS = 2\pi R_d^2\sin\theta d\theta\]</span>. Integrating over the range <span class="math inline">\([0,\theta_0]\)</span> yields the total force <span class="math inline">\(F_d\)</span></p>
<p><span class="math display">\[
\begin{aligned}
F_d(r) &amp;= -2\pi \eta_b k_B T R_d^2 \int_0^{\theta_0} \sin\theta \cos\theta \, d\theta \\
&amp;= -\pi R_d^2 \eta_b k_B T \left[1 - \left(\frac{r}{2R_d}\right)^2\right]
\end{aligned}
\]</span></p>
<p>Notice the negative sign, chosen to reflect the fact that the force is attarctive.</p>
<p>Integrating the force yields the interaction potential.</p>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/aobirthday.png" class="img-fluid figure-img"></p>
<figcaption>Fumio Oosawa (front) and Sho Asakura at Oosawa’s 88th birthday (from <span class="citation" data-cites="kurihara2021discovery">Kurihara and Vincent (<a href="#ref-kurihara2021discovery" role="doc-biblioref">2021</a>)</span> )</figcaption>
</figure>
</div>
</div></div><div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Summary of main colloid-colloid interactions
</div>
</div>
<div class="callout-body-container callout-body">
<table class="caption-top table">
<colgroup>
<col style="width: 13%">
<col style="width: 69%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Interaction Type</th>
<th>Description</th>
<th>Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Van der Waals</td>
<td>Attractive forces arising from induced dipoles between particles.</td>
<td>Short-range</td>
</tr>
<tr class="even">
<td>Double Layer</td>
<td>Electrostatic repulsion due to overlapping electrical double layers around charged particles.</td>
<td>Long-range</td>
</tr>
<tr class="odd">
<td>DLVO</td>
<td>Combination of van der Waals attraction and double layer repulsion.</td>
<td>Short and long range</td>
</tr>
<tr class="even">
<td>Depletion</td>
<td>Typically attractive interactions emerging from purely entropic interactions</td>
<td>Short range</td>
</tr>
</tbody>
</table>
</div>
</div>
<!-- See [@lekkerkerker2024colloids] -->
</section>
</section>
</section>
<section id="colloids-as-big-atoms" class="level2" data-number="15.3">
<h2 data-number="15.3" class="anchored" data-anchor-id="colloids-as-big-atoms"><span class="header-section-number">15.3</span> Colloids as big atoms</h2>
<p>Colloids can be viewed as “big atoms”: they are large particles suspended in a medium, exhibiting thermal motion and interactions in various ways analogous to atoms, but at much larger length and time scales. As we have seen above, the interactionsa can have statistical or even quanto-mechanical origina, but are ultimately cast in a classical form that is amenable to a classical treatment. At the same time, the large scales of colloids mean that via dedicatated microscopy techniques one is able to identify individual colloids, study theiur arrangements in detail, and follow their dynamics.</p>
<p>As mentionedearlier, there is a huge variety of colloids and a vast literature characterising their properties but also producing theoritical and computational models.</p>
<p>Here we focus on the most elementary model of a colloid. The simplest such exammple is the purely repulsive hard-sphere colloid. While an idealisation, quasi-hard-sphere colloids can be prepared in the laboratory by various techniques (see <span class="citation" data-cites="royall2024colloidal">Royall et al. (<a href="#ref-royall2024colloidal" role="doc-biblioref">2024</a>)</span> ). This includes by synthesizing a spheres of bundled polymers (you will learn about polymers in the next chapter) such as polymethyl methacrylate (PMMA), but also simply silica (small sphere of non-crystalline <span class="math inline">\(\rm Si O_2\)</span>) micron-sized beads carefully treated to screen and minimize the electrostatic interactions that would lead to DLVO-like contributions.</p>
<section id="the-archetype-hard-sphere-colloids" class="level3" data-number="15.3.1">
<h3 data-number="15.3.1" class="anchored" data-anchor-id="the-archetype-hard-sphere-colloids"><span class="header-section-number">15.3.1</span> The archetype: hard-sphere colloids</h3>
</section>
<section id="phase-coexistence" class="level3" data-number="15.3.2">
<h3 data-number="15.3.2" class="anchored" data-anchor-id="phase-coexistence"><span class="header-section-number">15.3.2</span> Phase coexistence</h3>
<section id="statics-the-radial-distribution-function" class="level4" data-number="15.3.2.1">
<h4 data-number="15.3.2.1" class="anchored" data-anchor-id="statics-the-radial-distribution-function"><span class="header-section-number">15.3.2.1</span> Statics: the radial distribution function</h4>
</section>
</section>
<section id="dynamics-single-and-collective-displacements" class="level3" data-number="15.3.3">
<h3 data-number="15.3.3" class="anchored" data-anchor-id="dynamics-single-and-collective-displacements"><span class="header-section-number">15.3.3</span> Dynamics: single and collective displacements</h3>
</section>
<section id="brownian-motion" class="level3" data-number="15.3.4">
<h3 data-number="15.3.4" class="anchored" data-anchor-id="brownian-motion"><span class="header-section-number">15.3.4</span> Brownian Motion</h3>
</section>
<section id="brief-history" class="level3" data-number="15.3.5">
<h3 data-number="15.3.5" class="anchored" data-anchor-id="brief-history"><span class="header-section-number">15.3.5</span> Brief history:</h3>
<p>1828 Scottish botanist Robert Brown observed irregular motion of pollen grains suspended in water. ~1880 Many accepted that Brownian motion was associated with the nature of heat, but no quantitative theory 1905 Brownian motion explained by Albert Einstein 1926 Nobel Prize in Physics: Jean Baptist Perrin for investigations on Brownian motion (sedimentation equilibrium and mean square displacement) in connection with reality of molecules, linking Gas constant and Avogadro’s number which led to the acceptance of the ‘molecular hypothesis’.</p>
</section>
<section id="diffusion" class="level3" data-number="15.3.6">
<h3 data-number="15.3.6" class="anchored" data-anchor-id="diffusion"><span class="header-section-number">15.3.6</span> Diffusion</h3>
<p>Idea: So far we considered a single particle and calculated the probability for finding it after N steps in the volume element <span class="math inline">\(d \underline{r}\)</span> centred at <span class="math inline">\(\underline{r}\)</span>. We found that <span class="math inline">\(\left\langle r^{2}\right\rangle=N b^{2}\)</span>, which suggests <span class="math inline">\(\left\langle\underline{r}^{2}\right\rangle \propto t\)</span>.</p>
<p>Now we are interested in many particles, where each undergoes a random walk and is not influenced by the others. We then ask: What fraction will be in a certain volume element after time <span class="math inline">\(t\)</span> ? This is the process of diffusion, e.g.&nbsp;spread of a drop of colour ink in water.</p>
<p>Mathematics: Suppose that the distribution of particles <span class="math inline">\(n(x, t)\)</span> is not uniform. This nonequilibrium situation will lead to a motion of particles (diffusion) tending to increase entropy and restore a homogeneous concentration. We are interested in the time-dependent concentration (number per unit volume) profile of particles <span class="math inline">\(n(x, t)\)</span>. In the case of an initially very narrow spatial distribution of particles this will correspond to the probability of any particle having moved to <span class="math inline">\(x\)</span>. The mean number of particles crossing unit area of a plane (perpendicular to the <span class="math inline">\(x\)</span>-axis) per unit time (i.e.&nbsp;the ‘flux’), is denoted by <span class="math inline">\(J_{x}\)</span>. This flux is expected to be (to a good approximation) proportional to the concentration gradient:</p>
<p><span class="math display">\[
J(x, t)=-D \frac{\partial n(x, t)}{\partial x} \quad \text { Fick's law }
\]</span></p>
<p>where the diffusion constant (or coefficient) <span class="math inline">\(D\)</span> has been defined as the constant of proportionality</p>
<p>Now, conservation of particle number demands</p>
<p><span class="math display">\[
\begin{aligned}
&amp; \frac{\partial}{\partial t}(n(x, t) A d x)=A J_{x}(x, t)-A J_{x}(x+d x, t) \\
&amp; \text { Flux in ................. Flux out } \\
&amp; =A\left(J_{x}(x, t)-\left(J_{x}(x, t)+\frac{\partial J_{x}(x, t)}{\partial x} d x\right)\right)
\end{aligned}
\]</span></p>
<p>and thus</p>
<p><span class="math display">\[
\frac{\partial n(x, t)}{\partial t}=-\frac{\partial J_{x}(x, t)}{\partial x} \quad \text { Particle conservation }
\]</span></p>
<p>Fick’s law and particle conservation together give (assuming <span class="math inline">\(D \neq D(x)\)</span> ):</p>
<p><span class="math display">\[
\frac{\partial n(x, t)}{\partial t}=D \frac{\partial^{2} n(x, t)}{\partial x^{2}} \quad \text { Diffusion equation }
\]</span></p>
<p>The solution, up to a constant <span class="math inline">\(C\)</span>, which satisfies the initial condition <span class="math inline">\((\mathrm{t}=0)\)</span> of having all the particles close together at <span class="math inline">\(x=0\)</span> is</p>
<p><span class="math display">\[
n(x, t)=C \frac{1}{\sqrt{4 \pi D t}} \exp \left(-x^{2} / 4 D t\right) \quad \text { Gaussian Distribution }
\]</span></p>
<p>The constant <span class="math inline">\(C\)</span> can be determined by <span class="math inline">\(N_{\text {total }}=\int n d V=A \int n d x=A C\)</span>. Hence</p>
<p><span class="math display">\[
p(x, t) d x=\frac{A d x n(x, t)}{N_{\text {tot }}}=\frac{1}{\sqrt{4 \pi D t}} \exp \left(-x^{2} / 4 D t\right) d x
\]</span></p>
<p><img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-12.jpg?height=972&amp;width=722&amp;top_left_y=327&amp;top_left_x=271" class="img-fluid"> <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-12.jpg?height=1004&amp;width=762&amp;top_left_y=338&amp;top_left_x=1034" class="img-fluid"></p>
<p>But the spreading of the particle distribution with time is due to the random walk of individual particles, for which we already have an equation (1-D):</p>
<p><span class="math display">\[
p_{N}(x)=\frac{1}{\sqrt{2 \pi&lt;(\Delta x)^{2}&gt;}} \exp \left(-\frac{(x-&lt;x&gt;)^{2}}{2&lt;(\Delta x)^{2}&gt;}\right)
\]</span></p>
<p>Comparing the result from the two points of view and setting <span class="math inline">\(\langle x\rangle=0\)</span>, we get <span class="math inline">\(&lt;\Delta x^{2}&gt;=2 D t\)</span> As expected the mean square displacement increases linearly with time, but we have now found the constant of proportionality: <span class="math inline">\(2 D\)</span>. Generalisation to three dimensions yields:</p>
<p><span class="math display">\[
\begin{array}{ll}
J=-D \nabla n(\underline{r}, t) &amp; \text { Fick's law } \\
\frac{\partial n}{\partial t}=-\nabla \cdot \underline{J} &amp; \text { Particle conservation } \\
\frac{\partial n}{\partial t}=D \nabla^{2} n &amp; \text { Diffusion equation } \\
\left\langle\underline{r}^{2}\right\rangle=6 D t &amp; \text { Mean square displacement }
\end{array}
\]</span></p>
<p>This last relation could constitute an alternative definition of the diffusion coefficient, instead of Fick’s law.</p>
</section>
<section id="stokes-einstein-relation" class="level3" data-number="15.3.7">
<h3 data-number="15.3.7" class="anchored" data-anchor-id="stokes-einstein-relation"><span class="header-section-number">15.3.7</span> Stokes-Einstein relation</h3>
<p>Suppose that the particles are subjected to an external force F in the x direction, e.g.&nbsp;gravity. In thermal equilibrium the Maxwell-Boltzmann distribution is valid, i.e.&nbsp;the particle density <span class="math inline">\(n(x)\)</span> is given by</p>
<p><span class="math display">\[
n(x)=n_{0} \exp \left(-U(x) / k_{B} T\right)=n_{0} \exp \left(-F x / k_{B} T\right)
\]</span></p>
<p>where we assumed a constant force <span class="math inline">\(F\)</span> in the last equation. In the case of gravity <span class="math inline">\(F=m_{B} g\)</span> with <span class="math inline">\(m_{B}\)</span> the buoyant mass. <span class="math inline">\(n(x)\)</span> results from the balance between the motion of the particles due to the external force setting up a concentration gradient, and the resultant diffusion given by Fick’s law. <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-13.jpg?height=291&amp;width=619&amp;top_left_y=1597&amp;top_left_x=466" class="img-fluid"></p>
<p>In the case of gravity, this leads to a sedimentation equilibrium. (a) Flux due to external force, <span class="math inline">\(J_{F}\)</span></p>
<p>The velocity of a particle under an applied force <span class="math inline">\(F\)</span> in a viscous fluid can be written as <span class="math inline">\(v=\)</span> <span class="math inline">\(F / \xi\)</span> which defines the friction coefficient <span class="math inline">\(\xi\)</span>. Hence</p>
<p><span class="math display">\[
J_{F}=n(x) v=\frac{n(x) F}{\xi}
\]</span></p>
<ol start="2" type="a">
<li>Diffusive flux, <span class="math inline">\(J_{D}\)</span> <span class="math inline">\(J_{D}\)</span> is given by Fick’s Law (see above):</li>
</ol>
<p><span class="math display">\[
J_{D}(x)=-D \frac{\partial n(x)}{\partial x}
\]</span></p>
<p>Equating the two fluxes <span class="math inline">\(J_{F}=J_{D}\)</span> we get</p>
<p><span class="math display">\[
\frac{n(x) F}{\xi}=-D \frac{\partial n(x)}{d x}=+D \frac{F}{k_{B} T} n(x)
\]</span></p>
<p>The second equation is obtained by differentiating the Maxwell-Boltzmann distribution. This gives the relation between the diffusion and friction coefficients:</p>
<p><span class="math display">\[
D=\frac{k_{B} T}{\xi}=\frac{k_{B} T}{6 \pi \eta R}
\]</span></p>
<p>The last equation applies to a spherical particle of radius <span class="math inline">\(R\)</span> in a fluid of viscosity <span class="math inline">\(\eta\)</span>, for which Stokes’s Law gives <span class="math inline">\(\xi=6 \pi \eta R\)</span> (which applies only at low Reynold’s number, <span class="math inline">\(\rho R v / \eta\)</span> <span class="math inline">\(\ll 1\)</span> ) resulting in the Stokes-Einstein relation.</p>
<ul>
<li>The Stokes-Einstein relation is a very deep result. It relates equilibrium fluctuations in a system to the energy dissipation when the system is driven off equilibrium. Here, the fluctuations in the fluid give rise to the diffusive motion of the suspended particle and <span class="math inline">\(D\)</span> is therefore the ‘fluctuation’ part. A sheared fluid will dissipate energy because of its finite viscosity and thus <span class="math inline">\(\eta\)</span> represents the dissipative part.</li>
<li>More generally, Brownian motion sets a natural limit to the precision of physical measurements. Example: A mirror suspended on a torsion fibre reflects a spot of light onto a scale. The spot will jiggle due to the random impact of air molecules and the random motion of atoms in the quartz fibre. To reduce the jiggle, the apparatus has to be cooled. The relation between fluctuation and dissipation tells us where to cool. ‘This depends upon where [the mirror] is getting its ’kicks’ from. If it is through the fibre, we cool it … if the mirror is surrounded by a gas and is getting hit mostly by collisions in the gas, it is better to cool the gas. As a matter of fact, if we know where the damping of the oscillations comes from, it turns out that that is always the source of the fluctuations.’ (Feynman, Chapter 41)</li>
</ul>
</section>
<section id="interacting-colloidal-particles" class="level3" data-number="15.3.8">
<h3 data-number="15.3.8" class="anchored" data-anchor-id="interacting-colloidal-particles"><span class="header-section-number">15.3.8</span> Interacting colloidal particles</h3>
<p>So far we have dealt with colloidal particles as independent spheres suspended in a medium. Now we will study concentrated suspensions in which interparticle interactions cannot be ignored.</p>
<section id="samples-model-hard-sphere-colloids" class="level4" data-number="15.3.8.1">
<h4 data-number="15.3.8.1" class="anchored" data-anchor-id="samples-model-hard-sphere-colloids"><span class="header-section-number">15.3.8.1</span> Samples: model hard-sphere colloids</h4>
<p>To be specific let us discuss a monodisperse colloid made up of polymethyl- methacrylate (PMMA; perspex in bulk form) spheres, which are covered with polymeric hairs (Poly-hydroxystearic acid) to stop them sticking to each other. They show to a very good approximation hard sphere behaviour. <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-15.jpg?height=315&amp;width=684&amp;top_left_y=718&amp;top_left_x=1138" class="img-fluid"></p>
<p>The radius of the colloid is typically <span class="math inline">\(R \leq 0.5 \mu m\)</span> with a very small polydispersity (size variation) of <span class="math inline">\(\Delta R / R&lt;0.05\)</span>. The usual way of referring to particle densities is the ‘volume fraction’ <span class="math inline">\(\phi\)</span>, defined to be the fraction of the suspension occupied by particles. If we have <span class="math inline">\(N\)</span> monodisperse spheres with radius <span class="math inline">\(R\)</span> in the total volume <span class="math inline">\(V\)</span>, then</p>
<p><span class="math display">\[
\phi=\frac{V_{\mathrm{part}}}{V}=\frac{N}{V} \frac{4}{3} \pi R^{3}
\]</span></p>
</section>
<section id="phase-behaviour" class="level4" data-number="15.3.8.2">
<h4 data-number="15.3.8.2" class="anchored" data-anchor-id="phase-behaviour"><span class="header-section-number">15.3.8.2</span> Phase Behaviour</h4>
<p>As a reminder we first look at the interaction potential and phase behaviour of a simple atomic substance, such as argon. A generic inter-particle potential <span class="math inline">\(U(r)\)</span> exhibits the infinite hard sphere repulsion as well as an attractive part of depth <span class="math inline">\(\varepsilon\)</span>. The <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-15.jpg?height=562&amp;width=893&amp;top_left_y=1971&amp;top_left_x=277" class="img-fluid"> <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-15.jpg?height=570&amp;width=581&amp;top_left_y=1973&amp;top_left_x=1225" class="img-fluid"> corresponding generic phase diagram in the temperature-density plane shows the regions where gas, liquid, fluid and crystal exist. A rough estimate of the critical temperature <span class="math inline">\(T_{C}\)</span> is given by <span class="math inline">\(k_{B} T_{C} \sim \varepsilon\)</span>. If <span class="math inline">\(\varepsilon \rightarrow 0\)</span>, as in the case of hard spheres, we expect that there will be no critical point and therefore no liquid phase. This is indeed the case.</p>
</section>
<section id="phase-behaviour-of-hard-sphere-colloids" class="level4" data-number="15.3.8.3">
<h4 data-number="15.3.8.3" class="anchored" data-anchor-id="phase-behaviour-of-hard-sphere-colloids"><span class="header-section-number">15.3.8.3</span> Phase behaviour of hard-sphere colloids:</h4>
<p>At very low densities, the structure of a hard-sphere suspension is like that of a perfect gas; the positions of the colloidal particles are practically uncorrelated and the chance of finding a particle in any particular vicinity is almost independent of the presence of all the other particles.</p>
<p>Upon an increase in particle density, their positions begin to become correlated as the particles are mutually excluding. If we look inside a suspension of volume fraction <span class="math inline">\(\phi \geq 0.3\)</span>, then we will find that, at any one instant, each particle is surrounded by a `cage’ of neighbours (short-ranged order). The cage tightens as <span class="math inline">\(\phi\)</span> increases. The cage size <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-16.jpg?height=394&amp;width=354&amp;top_left_y=1082&amp;top_left_x=1273" class="img-fluid"> represents a dominant length scale in the system. Despite the appearance of correlations between particle positions, a hard-sphere suspension below <span class="math inline">\(\phi \lesssim 0.5\)</span> is still in what one might call a ‘colloid fluid’ phase, i.e.&nbsp;the arrangement of particles in such a suspension is analogous to the arrangement of atoms in an atomic fluid (e.g.&nbsp;fluid argon) - on average the particle centres are more or <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-16.jpg?height=492&amp;width=825&amp;top_left_y=1966&amp;top_left_x=257" class="img-fluid"> less randomly arranged, and each particle can, given time, wander through the available volume. The structure is described by the radial distribution function <span class="math inline">\(g(r)\)</span>. Given a particle centred at <span class="math inline">\(\underline{r}=0\)</span>, <span class="math inline">\((N / V) g(\underline{r}) d \underline{r}\)</span> is the number of particles in <span class="math inline">\(d \underline{r}\)</span> at a distance <span class="math inline">\(\underline{r}\)</span>.</p>
<p>If we increase the volume fraction above <span class="math inline">\(\phi \approx 0.55\)</span>, however, a phase transition occurs. The particles will spontaneously pack into a crystalline arrangement. Particles now can only move round about their average lattice site, but will not wander throughout the available volume. This phase is called a ‘colloidal crystal’. Due to more local freedom the crystal has a higher (!) entropy than the metastable fluid from which it grows. It is an entropically-driven phase transition. Between <span class="math inline">\(\phi=0.5\)</span> and <span class="math inline">\(\phi=0.55\)</span>, we find coexistence between colloidal fluid and crystal. <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-17.jpg?height=624&amp;width=1364&amp;top_left_y=680&amp;top_left_x=359" class="img-fluid"></p>
<p>Note that no colloidal liquid is formed ( <span class="math inline">\(T_{\mathcal{C}}=0\)</span> ), as expected for an interaction potential without attraction. At the highest particle concentrations (above <span class="math inline">\(\phi \approx 0.58\)</span> ) crystallization may be avoided if the temperature is quenched very rapidly, and a colloidal glass is formed. We will return to study the behaviour of glasses in Part 4.</p>
</section>
</section>
<section id="particle-dynamics" class="level3" data-number="15.3.9">
<h3 data-number="15.3.9" class="anchored" data-anchor-id="particle-dynamics"><span class="header-section-number">15.3.9</span> Particle dynamics</h3>
<section id="hard-spheres" class="level4" data-number="15.3.9.1">
<h4 data-number="15.3.9.1" class="anchored" data-anchor-id="hard-spheres"><span class="header-section-number">15.3.9.1</span> Hard-spheres</h4>
<p>We are interested in the mean-square displacement <span class="math inline">\(\left\langle\underline{r}^{2}(t)\right\rangle\)</span> as a function of time for different volume fractions. At low volume fractions, the particles undergo Brownian motion (random-walk diffusion) due to collisions with liquid molecules. The meansquare displacement <span class="math inline">\(\left\langle\underline{r}^{2}(t)\right\rangle=6 D_{0} t\)</span> as already seen earlier. Above <span class="math inline">\(\phi \sim 0.3\)</span>, however, different regimes are observed. At short times the particles diffuse with the short time (self) diffusion constant <span class="math inline">\(D_{s}\)</span>. This is determined from the short time limit and is smaller than the <span class="math inline">\(D_{0}\)</span> measured for <span class="math inline">\(\phi \rightarrow 0\)</span>. The motion of the particles (self diffusion) is still driven by collisions with the liquid molecules, but in addition the interactions between particles become significant. While the particles are diffusing in their cages formed by their neighbours, the hydrodynamic interaction <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-18.jpg?height=391&amp;width=432&amp;top_left_y=368&amp;top_left_x=1351" class="img-fluid"> with the neighbours, transmitted through flows in the liquid, causes slowing down relative to the free diffusion at low concentrations. At intermediate times the particles encounter the neighbours and the interactions slow the motion down. To make further progress, the particle has to break out of the cage formed by its neighbours. Now the particles experience a further interaction, direct interactions (hard-sphere interactions), in addition to the hydrodynamic interactions. The long-time and long-ranged movement is also diffusive, i.e.&nbsp;we still have <span class="math inline">\(\left\langle\underline{r}^{2}(t)&gt;\propto t\right.\)</span>, when the particles undergo large-scale random-walk diffusion through many cages. However, the motion is further slowed and a smaller diffusion constant relative to the motion in the short time limit is observed, the long time (self) diffusion constant <span class="math inline">\(D_{L}\)</span>. <img src="https://cdn.mathpix.com/cropped/2025_01_27_a9af280ad9752fe3d0c0g-19.jpg?height=777&amp;width=1086&amp;top_left_y=868&amp;top_left_x=539" class="img-fluid"> short time: <span class="math inline">\(&lt;r^{2}(t)&gt;=6 D_{S} t\)</span> short-time self diff. coeff. <span class="math inline">\(D_{S}&lt;D_{0}\)</span> purely because of hydrodyn. interactions theoretical predictions exist intermediate time: some theory long time: <span class="math inline">\(&lt;r^{2}(t)&gt;=6 D_{L} t\)</span> long-time self diff. coeff. <span class="math inline">\(D_{L}&lt;D_{S}\left(&lt;D_{0}\right)\)</span> because of hydrodyn. and direct interactions theory very complicated, but some predictions exist</p>


<script type="pyodide-data">
eyJvcHRpb25zIjp7ImVudiI6eyJQTE9UTFlfUkVOREVSRVIiOiJwbG90bHlfbWltZXR5cGUifSwiaW5kZXhVUkwiOiJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvcHlvZGlkZS92MC4yNy4wL2Z1bGwvIn0sInBhY2thZ2VzIjp7InBrZ3MiOlsicHlvZGlkZV9odHRwIiwibWljcm9waXAiLCJpcHl0aG9uIiwibnVtcHkiLCJtYXRwbG90bGliIl19fQ==
</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3siY2VsbE5hbWUiOiJweW9kaWRlLTYiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF9weW9kaWRlX2VkaXRvcl82ID0ge1xuICBjb25zdCB7IFB5b2RpZGVFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS02LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHB5b2RpZGUtNi1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBQeW9kaWRlRXhlcmNpc2VFZGl0b3IoXG4gICAgcHlvZGlkZU9qcy5weW9kaWRlUHJvbWlzZSxcbiAgICBibG9jay5jb2RlLFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl9weW9kaWRlX3ZhbHVlXzYgPSBweW9kaWRlT2pzLnByb2Nlc3MoX3B5b2RpZGVfZWRpdG9yXzYsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJweW9kaWRlLTUiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF9weW9kaWRlX2VkaXRvcl81ID0ge1xuICBjb25zdCB7IFB5b2RpZGVFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS01LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHB5b2RpZGUtNS1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBQeW9kaWRlRXhlcmNpc2VFZGl0b3IoXG4gICAgcHlvZGlkZU9qcy5weW9kaWRlUHJvbWlzZSxcbiAgICBibG9jay5jb2RlLFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl9weW9kaWRlX3ZhbHVlXzUgPSBweW9kaWRlT2pzLnByb2Nlc3MoX3B5b2RpZGVfZWRpdG9yXzUsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJweW9kaWRlLTQiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF9weW9kaWRlX2VkaXRvcl80ID0ge1xuICBjb25zdCB7IFB5b2RpZGVFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS00LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHB5b2RpZGUtNC1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBQeW9kaWRlRXhlcmNpc2VFZGl0b3IoXG4gICAgcHlvZGlkZU9qcy5weW9kaWRlUHJvbWlzZSxcbiAgICBibG9jay5jb2RlLFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl9weW9kaWRlX3ZhbHVlXzQgPSBweW9kaWRlT2pzLnByb2Nlc3MoX3B5b2RpZGVfZWRpdG9yXzQsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJweW9kaWRlLTMiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF9weW9kaWRlX2VkaXRvcl8zID0ge1xuICBjb25zdCB7IFB5b2RpZGVFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS0zLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHB5b2RpZGUtMy1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBQeW9kaWRlRXhlcmNpc2VFZGl0b3IoXG4gICAgcHlvZGlkZU9qcy5weW9kaWRlUHJvbWlzZSxcbiAgICBibG9jay5jb2RlLFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl9weW9kaWRlX3ZhbHVlXzMgPSBweW9kaWRlT2pzLnByb2Nlc3MoX3B5b2RpZGVfZWRpdG9yXzMsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJweW9kaWRlLTIiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF9weW9kaWRlX2VkaXRvcl8yID0ge1xuICBjb25zdCB7IFB5b2RpZGVFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS0yLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHB5b2RpZGUtMi1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBQeW9kaWRlRXhlcmNpc2VFZGl0b3IoXG4gICAgcHlvZGlkZU9qcy5weW9kaWRlUHJvbWlzZSxcbiAgICBibG9jay5jb2RlLFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl9weW9kaWRlX3ZhbHVlXzIgPSBweW9kaWRlT2pzLnByb2Nlc3MoX3B5b2RpZGVfZWRpdG9yXzIsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJweW9kaWRlLTEiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoiX3B5b2RpZGVfdmFsdWVfMSA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRQeXRob24sIGI2NERlY29kZX0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS0xLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBldmFsdWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGlkOiBcInB5b2RpZGUtMS1jb250ZW50c1wiLFxuICAgIGVjaG86IHRydWUsXG4gICAgb3V0cHV0OiB0cnVlXG4gIH0sIGJsb2NrLmF0dHIpO1xuXG4gIC8vIEV2YWx1YXRlIHRoZSBwcm92aWRlZCBQeXRob24gY29kZVxuICBjb25zdCByZXN1bHQgPSBweW9kaWRlT2pzLnByb2Nlc3Moe2NvZGU6IGJsb2NrLmNvZGUsIG9wdGlvbnN9LCB7fSk7XG5cbiAgLy8gRWFybHkgeWllbGQgd2hpbGUgd2Ugd2FpdCBmb3IgdGhlIGZpcnN0IGV2YWx1YXRpb24gYW5kIHJlbmRlclxuICBpZiAob3B0aW9ucy5vdXRwdXQgJiYgIShcIjFcIiBpbiBweW9kaWRlT2pzLnJlbmRlcmVkT2pzKSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBpZiAob3B0aW9ucy5lY2hvKSB7XG4gICAgICAvLyBTaG93IG91dHB1dCBhcyBoaWdobGlnaHRlZCBzb3VyY2VcbiAgICAgIGNvbnN0IHByZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwic291cmNlQ29kZVwiO1xuICAgICAgcHJlRWxlbS5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGUgcHl0aG9uXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKGhpZ2hsaWdodFB5dGhvbihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHB5b2RpZGVPanMucmVuZGVyZWRPanNbXCIxXCJdID0gdHJ1ZTtcbiAgeWllbGQgYXdhaXQgcmVzdWx0O1xufVxuIn0seyJjZWxsTmFtZSI6InB5b2RpZGUtcHJlbHVkZSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InB5b2RpZGVPanMgPSB7XG4gIGNvbnN0IHtcbiAgICBQeW9kaWRlRXZhbHVhdG9yLFxuICAgIFB5b2RpZGVFbnZpcm9ubWVudE1hbmFnZXIsXG4gICAgc2V0dXBQeXRob24sXG4gICAgc3RhcnRQeW9kaWRlV29ya2VyLFxuICAgIGI2NERlY29kZSxcbiAgICBjb2xsYXBzZVBhdGgsXG4gIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHN0YXR1c0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhlcmNpc2UtbG9hZGluZy1zdGF0dXNcIik7XG4gIGNvbnN0IGluZGljYXRvckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhlcmNpc2UtbG9hZGluZy1pbmRpY2F0b3JcIik7XG4gIGluZGljYXRvckNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZC1ub25lXCIpO1xuXG4gIGxldCBzdGF0dXNUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICBzdGF0dXNUZXh0LmNsYXNzTGlzdCA9IFwiZXhlcmNpc2UtbG9hZGluZy1kZXRhaWxzXCI7XG4gIHN0YXR1c1RleHQgPSBzdGF0dXNDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RhdHVzVGV4dCk7XG4gIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgSW5pdGlhbGlzZWA7XG5cbiAgLy8gSG9pc3QgaW5kaWNhdG9yIG91dCBmcm9tIGZpbmFsIHNsaWRlIHdoZW4gcnVubmluZyB1bmRlciByZXZlYWxcbiAgY29uc3QgcmV2ZWFsU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXZlYWwgLmV4ZXJjaXNlLWxvYWRpbmctaW5kaWNhdG9yXCIpO1xuICBpZiAocmV2ZWFsU3RhdHVzKSB7XG4gICAgcmV2ZWFsU3RhdHVzLnJlbW92ZSgpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2ZWFsID4gLnNsaWRlc1wiKS5hcHBlbmRDaGlsZChyZXZlYWxTdGF0dXMpO1xuICB9XG5cbiAgLy8gTWFrZSBhbnkgcmV2ZWFsIHNsaWRlcyB3aXRoIGxpdmUgY2VsbHMgc2Nyb2xsYWJsZVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJldmVhbCAuZXhlcmNpc2UtY2VsbFwiKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGVsLmNsb3Nlc3QoJ3NlY3Rpb24uc2xpZGUnKS5jbGFzc0xpc3QuYWRkKFwic2Nyb2xsYWJsZVwiKTtcbiAgfSlcblxuICAvLyBQeW9kaWRlIHN1cHBsZW1lbnRhbCBkYXRhIGFuZCBvcHRpb25zXG4gIGNvbnN0IGRhdGFDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcInB5b2RpZGUtZGF0YVxcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGI2NERlY29kZShkYXRhQ29udGVudCkpO1xuXG4gIC8vIEdyYWIgbGlzdCBvZiByZXNvdXJjZXMgdG8gYmUgZG93bmxvYWRlZFxuICBjb25zdCBmaWxlc0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwidmZzLWZpbGVcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBmaWxlcyA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKGZpbGVzQ29udGVudCkpO1xuXG4gIGxldCBweW9kaWRlUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyBQeW9kaWRlYDtcbiAgICBjb25zdCBweW9kaWRlID0gYXdhaXQgc3RhcnRQeW9kaWRlV29ya2VyKGRhdGEub3B0aW9ucyk7XG5cbiAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHBhY2thZ2U6IG1pY3JvcGlwYDtcbiAgICBhd2FpdCBweW9kaWRlLmxvYWRQYWNrYWdlKFwibWljcm9waXBcIik7XG4gICAgY29uc3QgbWljcm9waXAgPSBhd2FpdCBweW9kaWRlLnB5aW1wb3J0KFwibWljcm9waXBcIik7XG4gICAgYXdhaXQgZGF0YS5wYWNrYWdlcy5wa2dzLm1hcCgocGtnKSA9PiAoKSA9PiB7XG4gICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHBhY2thZ2U6ICR7cGtnfWA7XG4gICAgICByZXR1cm4gbWljcm9waXAuaW5zdGFsbChwa2cpO1xuICAgIH0pLnJlZHVjZSgoY3VyLCBuZXh0KSA9PiBjdXIudGhlbihuZXh0KSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIGF3YWl0IG1pY3JvcGlwLmRlc3Ryb3koKTtcblxuICAgIC8vIERvd25sb2FkIGFuZCBpbnN0YWxsIHJlc291cmNlc1xuICAgIGF3YWl0IGZpbGVzLm1hcCgoZmlsZSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IGZpbGUuc3Vic3RyaW5nKGZpbGUubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyByZXNvdXJjZTogJHtuYW1lfWA7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZpbGUpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGRvd25sb2FkIFxcYCR7ZmlsZX1cXGAuIEVycm9yICR7cmVzcG9uc2Uuc3RhdHVzfTogXCIke3Jlc3BvbnNlLnN0YXR1c1RleHR9XCIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcblxuICAgICAgLy8gU3RvcmUgVVJMcyBpbiB0aGUgY3dkIHdpdGhvdXQgYW55IHN1YmRpcmVjdG9yeSBzdHJ1Y3R1cmVcbiAgICAgIGlmIChmaWxlLmluY2x1ZGVzKFwiOi8vXCIpKSB7XG4gICAgICAgIGZpbGUgPSBuYW1lO1xuICAgICAgfVxuXG4gICAgICAvLyBDb2xsYXBzZSBoaWdoZXIgZGlyZWN0b3J5IHN0cnVjdHVyZVxuICAgICAgZmlsZSA9IGNvbGxhcHNlUGF0aChmaWxlKTtcblxuICAgICAgLy8gQ3JlYXRlIGRpcmVjdG9yeSB0cmVlLCBpZ25vcmluZyBcImRpcmVjdG9yeSBleGlzdHNcIiBWRlMgZXJyb3JzXG4gICAgICBjb25zdCBwYXJ0cyA9IGZpbGUuc3BsaXQoJy8nKS5zbGljZSgwLCAtMSk7XG4gICAgICBsZXQgcGF0aCA9ICcnO1xuICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF0aCArPSBwYXJ0cy5zaGlmdCgpICsgJy8nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHB5b2RpZGUuRlMubWtkaXIocGF0aCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lICE9PSBcIkVycm5vRXJyb3JcIikgdGhyb3cgZTtcbiAgICAgICAgICBpZiAoZS5lcnJubyAhPT0gMjApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVGV4dFB0ciA9IGF3YWl0IHB5b2RpZGUuX21vZHVsZS5fc3RyZXJyb3IoZS5lcnJubyk7XG4gICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCBweW9kaWRlLl9tb2R1bGUuVVRGOFRvU3RyaW5nKGVycm9yVGV4dFB0cik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpbGVzeXN0ZW0gRXJyb3IgJHtlLmVycm5vfSBcIiR7ZXJyb3JUZXh0fVwiLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXcml0ZSB0aGlzIGZpbGUgdG8gdGhlIFZGU1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHB5b2RpZGUuRlMud3JpdGVGaWxlKGZpbGUsIG5ldyBVaW50OEFycmF5KGRhdGEpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUubmFtZSAhPT0gXCJFcnJub0Vycm9yXCIpIHRocm93IGU7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dFB0ciA9IGF3YWl0IHB5b2RpZGUuX21vZHVsZS5fc3RyZXJyb3IoZS5lcnJubyk7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHB5b2RpZGUuX21vZHVsZS5VVEY4VG9TdHJpbmcoZXJyb3JUZXh0UHRyKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlc3lzdGVtIEVycm9yICR7ZS5lcnJub30gXCIke2Vycm9yVGV4dH1cIi5gKTtcbiAgICAgIH1cbiAgICB9KS5yZWR1Y2UoKGN1ciwgbmV4dCkgPT4gY3VyLnRoZW4obmV4dCksIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgUHlvZGlkZSBlbnZpcm9ubWVudCBzZXR1cGA7XG4gICAgYXdhaXQgc2V0dXBQeXRob24ocHlvZGlkZSk7XG5cbiAgICBzdGF0dXNUZXh0LnJlbW92ZSgpO1xuICAgIGlmIChzdGF0dXNDb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICAgIHN0YXR1c0NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcHlvZGlkZTtcbiAgfSkoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgc3RhdHVzVGV4dC5zdHlsZS5jb2xvciA9IFwidmFyKC0tZXhlcmNpc2UtZWRpdG9yLWhsLWVyLCAjQUQwMDAwKVwiO1xuICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBlcnIubWVzc2FnZTtcbiAgICAvL2luZGljYXRvckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnNwaW5uZXItZ3Jvd1wiKS5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpO1xuICAgIHRocm93IGVycjtcbiAgfSk7XG5cbiAgLy8gS2VlcCB0cmFjayBvZiBpbml0aWFsIE9KUyBibG9jayByZW5kZXJcbiAgY29uc3QgcmVuZGVyZWRPanMgPSB7fTtcblxuICBjb25zdCBwcm9jZXNzID0gYXN5bmMgKGNvbnRleHQsIGlucHV0cykgPT4ge1xuICAgIGNvbnN0IHB5b2RpZGUgPSBhd2FpdCBweW9kaWRlUHJvbWlzZTtcbiAgICBjb25zdCBldmFsdWF0b3IgPSBuZXcgUHlvZGlkZUV2YWx1YXRvcihweW9kaWRlLCBjb250ZXh0KTtcbiAgICBhd2FpdCBldmFsdWF0b3IucHJvY2VzcyhpbnB1dHMpO1xuICAgIHJldHVybiBldmFsdWF0b3IuY29udGFpbmVyO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBweW9kaWRlUHJvbWlzZSxcbiAgICByZW5kZXJlZE9qcyxcbiAgICBwcm9jZXNzLFxuICB9O1xufVxuIn1dfQ==
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
WyJzcmMvcGxvdHRpbmcucHkiXQ==
</script>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-hamaker1937london" class="csl-entry" role="listitem">
Hamaker, Hugo C. 1937. <span>“The London—van Der Waals Attraction Between Spherical Particles.”</span> <em>Physica</em> 4 (10): 1058–72. <a href="https://www.sciencedirect.com/science/article/pii/S0031891437802037">https://www.sciencedirect.com/science/article/pii/S0031891437802037</a>.
</div>
<div id="ref-kurihara2021discovery" class="csl-entry" role="listitem">
Kurihara, Kazue, and Brian Vincent. 2021. <span>“The Discovery of the Depletion Force.”</span> <em>The Journal of Chemical Physics</em> 154 (22). <a href="https://pubs.aip.org/aip/jcp/article/154/22/220401/313343/The-discovery-of-the-depletion-force">https://pubs.aip.org/aip/jcp/article/154/22/220401/313343/The-discovery-of-the-depletion-force</a>.
</div>
<div id="ref-lekkerkerker2024colloids" class="csl-entry" role="listitem">
Lekkerkerker, Henk NW, Remco Tuinier, and Mark Vis. 2024. <em>Colloids and the Depletion Interaction</em>. Springer Nature.
</div>
<div id="ref-london1937general" class="csl-entry" role="listitem">
London, Fritz. 1937. <span>“The General Theory of Molecular Forces.”</span> <em>Transactions of the Faraday Society</em> 33: 8b–26.
</div>
<div id="ref-royall2024colloidal" class="csl-entry" role="listitem">
Royall, C Patrick, Patrick Charbonneau, Marjolein Dijkstra, John Russo, Frank Smallenburg, Thomas Speck, and Chantal Valeriani. 2024. <span>“Colloidal Hard Spheres: Triumphs, Challenges, and Mysteries.”</span> <em>Reviews of Modern Physics</em> 96 (4): 045003. <a href="https://journals.aps.org/rmp/abstract/10.1103/RevModPhys.96.045003">https://journals.aps.org/rmp/abstract/10.1103/RevModPhys.96.045003</a>.
</div>
</div>
</section>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>This is clearly an instance of the idea of <strong>coarse graining</strong> that we have introduced <a href="../soft-matter/soft-matter_intro.html">earlier</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>As you see, scaling by <span class="math inline">\(k_B T\)</span> is a recurrent feature of soft matter.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>From the Greek στερεός, “solid, three-dimensional”.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W119
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../soft-matter";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="../soft-matter/soft-matter_intro.html" class="pagination-link" aria-label="Entropy matters">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Entropy matters</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../soft-matter/soft-matter_polymers.html" class="pagination-link" aria-label="Polymers">
        <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Polymers</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>