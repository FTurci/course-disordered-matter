<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>9&nbsp; The renormalisation group: effective coupling viewpoint</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../phase-transitions/nucleation-and-growth.html" rel="next">
<link href="../phase-transitions/rg.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-e23ba355862ad04fc5625b00d11d3a0f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="../site_libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../phase-transitions/literature.html">Unifying theoretical concepts for disordered matter</a></li><li class="breadcrumb-item"><a href="../phase-transitions/rg-effective-coupling.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">RG- the effective coupling viewpoint</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../phase-transitions/Figs/courselogo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Unifying theoretical concepts for disordered matter</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommended texts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to phase behaviour</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Background concepts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/approach-to-criticality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">The approach to criticality</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/Ising-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">The Ising model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/mean-field-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Mean field theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/lattice-gas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The lattice gas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/scaling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The static scaling hypothesis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/rg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Renormalization group theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/rg-effective-coupling.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">RG- the effective coupling viewpoint</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/nucleation-and-growth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Nucleation and domain growth</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/master-equation-and-diffusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to stochastic processes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/Brownian-and-Langevin-dynamics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Brownian and Langevin dynamics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/dynamics-of-fluctuations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Dynamics of fluctuations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/live-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Coding</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Complex disordered matter</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_plan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Plan</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Entropy matters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_colloids.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Colloids</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_polymers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Polymers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_surfactants.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Surfactants</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_glasses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Glasses</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_readings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Readings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soft-matter/soft-matter_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Problems</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../revision_guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Revision guide</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../phase-transitions/concepts_map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Concept maps</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#a-simple-example" id="toc-a-simple-example" class="nav-link active" data-scroll-target="#a-simple-example"><span class="header-section-number">9.1</span> A simple example</a></li>
  <li><a href="#universality-and-scaling" id="toc-universality-and-scaling" class="nav-link" data-scroll-target="#universality-and-scaling"><span class="header-section-number">9.2</span> Universality and scaling</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../phase-transitions/literature.html">Unifying theoretical concepts for disordered matter</a></li><li class="breadcrumb-item"><a href="../phase-transitions/rg-effective-coupling.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">RG- the effective coupling viewpoint</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The renormalisation group: effective coupling viewpoint</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Let us begin by returning to our fundamental equation (eq. <a href="#eq:probs" data-reference-type="ref" data-reference="eq:probs">[eq:probs]</a>), which we rewrite as</p>
<p><span class="math display">\[p = Z^{-1}e^{-{\cal H}}\]</span> where <span class="math inline">\({\cal H}\equiv E/k_BT\)</span>.</p>
<p>The first step is then to imagine that we generate, by a computer simulation procedure for example, a sequence of configurations with relative probability <span class="math inline">\(\exp(-{\cal H})\)</span>. We next adopt some coarse-graining procedure which produces from these original configurations a set of coarse-grained configurations. We then ask the question: what is the energy function <span class="math inline">\({\cal H}^\prime\)</span> of the coarse-grained variables which would produce these coarse-grained configurations with the correct relative probability <span class="math inline">\(\exp(-{\cal H}^\prime)\)</span>? Clearly the form of <span class="math inline">\({\cal H}^\prime\)</span> depends on the form of <span class="math inline">\({\cal H}\)</span> thus we can write symbolically</p>
<p><span class="math display">\[{\cal H}^\prime=R({\cal H})\]</span></p>
<p>The operation <span class="math inline">\(R\)</span>, which defines the coarse-grained configurational energy in terms of the microscopic configurational energy function is known as a renormalisation group transformation (RGT). What it does is to replace a hard problem by a less hard problem. Specifically, suppose that our system is near a critical point and that we wish to calculate its large-distance properties. If we address this task by utilizing the configurational energy and appealing to the basic machinery of statistical mechanics set out in eqs.&nbsp;<a href="#eq:probs" data-reference-type="ref" data-reference="eq:probs">[eq:probs]</a> and &nbsp;<a href="#eq:partition" data-reference-type="ref" data-reference="eq:partition">[eq:partition]</a>, the problem is hard. It is hard because the system has fluctuations on all the (many) length scales intermediate between the correlation length <span class="math inline">\(\xi\)</span> and the minimum length scale <span class="math inline">\(L_\textrm{
min}\)</span>.</p>
<p>However, the task may instead be addressed by tackling the coarse-grained system described by the energy <span class="math inline">\({\cal H}^\prime\)</span>. The large-distance properties of this system are the same as the large-distance properties of the physical system, since coarse-graining operation preserves large-scale configurational structure. In this representation the problem is a little easier: while the <span class="math inline">\(\xi\)</span> associated with <span class="math inline">\({\cal H}^\prime\)</span> is the same as the <span class="math inline">\(\xi\)</span> associated with <span class="math inline">\({\cal H}\)</span>, the minimum length scale of <span class="math inline">\({\cal H}^\prime\)</span> is bigger than that of <span class="math inline">\({\cal H}\)</span>. Thus the statistical mechanics of <span class="math inline">\({\cal H}^\prime\)</span> poses a not-quite-so-many-length-scale problem, a problem which is effectively a little less critical and is thus a little easier to solve. The benefits accruing from this procedure may be amplified by repeating it. Repeated application of <span class="math inline">\(R\)</span> will eventually result in a coarse- grained energy function describing configurations in which the <span class="math inline">\(\xi\)</span> is no bigger than the minimum length scale. The associated system is far from criticality and its properties may be reliably computed by any of a wide variety of approximation schemes. These properties are the desired large-distance properties of the physical system. As explicit reference to fluctuations of a given scale is eliminated by coarse-graining, their effects are carried forward implicitly in the parameters of the coarse-grained energy.</p>
<p>In order to setup the framework for a simple illustrative example, let is return to the lattice Ising model for which the energy function depended only on the product of nearest neighbour spins. The coefficient of this product in the energy is the exchange coupling, <span class="math inline">\(J\)</span>. In principle, however, other kinds of interactions are also allowed; for example, we may have a product of second neighbour spins with strength <span class="math inline">\(J_2\)</span> or, perhaps, a product of four spins (at sites forming a square whose side is the lattice spacing), with strength <span class="math inline">\(J_3\)</span>. Such interactions in a real magnet have their origin in the quantum mechanics of the atoms and electrons and clearly depend upon the details of the system. For generality therefore we will allow a family of exchange couplings <span class="math inline">\(J_1\)</span>,<span class="math inline">\(J_2\)</span>,<span class="math inline">\(J_3,\dots\)</span>, or <span class="math inline">\(J_a, a =
1,2,\dots\)</span> In reduced units, the equivalent coupling strengths are <span class="math inline">\(K_a =J_a/k_BT\)</span>. Their values determine uniquely the energy for any given configuration.</p>
<blockquote class="blockquote">
<p>We note that it is not only useful to allow for arbitrary kinds of interactions: if we wish to repeat the transformation several (indeed many) times, it is also necessary because even if we start with only the nearest neighbour coupling in <span class="math inline">\({\cal H}\)</span> the transformation will in general produce others in <span class="math inline">\({\cal H}^\prime\)</span>.</p>
</blockquote>
<p>Now consider the coarse-graining procedure. Let us suppose that this procedure takes the form of a ‘majority rule’ operation in which the new spins are assigned values <span class="math inline">\(+1\)</span> or <span class="math inline">\(-1\)</span> according to the signs of the magnetic moments of the blocks with which they are associated. The new energy function <span class="math inline">\({\cal H}^\prime\)</span> will be expressible in terms of some new coupling strengths <span class="math inline">\(K^\prime\)</span> describing the interactions amongst the new spin variables (and thus, in effect, the interactions between blocks of the original spin variables). The RGT simply states that these new couplings depend on the old couplings: <span class="math inline">\(K_1^\prime\)</span> is some function <span class="math inline">\(f_1\)</span> of all the original couplings, and generally</p>
<p><span class="math display">\[K^\prime_a=f_a(K_1,K_2,\dots) =f_a({\bf K}),~~~~ a= 1, 2,\dots
\label{eq:rgt}\]</span> where <strong>K</strong> is shorthand for the set <span class="math inline">\(K_1, K_2,\dots\)</span></p>
<section id="a-simple-example" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="a-simple-example"><span class="header-section-number">9.1</span> A simple example</h2>
<p>This example illustrates how one can perform the RG transformation (<a href="#eq:rgt" data-reference-type="ref" data-reference="eq:rgt">[eq:rgt]</a>) directly, without recourse to a ‘sequence of typical configurations’. The calculation involves a very crude approximation which has the advantage that it simplifies the subsequent analysis.</p>
<div id="fig-rglat" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rglat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Figs/rglat.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rglat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.1: Coarse graining by decimation. The spins on the original lattice are divided into two sets <span class="math inline">\(\{s^\prime\}\)</span> and <span class="math inline">\(\{\tilde{s}\}\)</span>. The <span class="math inline">\(\{s^\prime\}\)</span> spins occupy a lattice whose spacing is twice that of the original. The effective coupling interaction between the <span class="math inline">\(\{s^\prime\}\)</span> spins is obtained by performing the configurational average over the <span class="math inline">\(\{\tilde{s}\}\)</span>
</figcaption>
</figure>
</div>
<p>Consider an Ising model in two dimensions, with only nearest neighbour interactions as shown in fig.&nbsp;<a href="#fig:rglat" data-reference-type="ref" data-reference="fig:rglat">19</a>. We have divided the spins into two sets, the spins <span class="math inline">\(\{s^\prime\}\)</span> form a square lattice of spacing <span class="math inline">\(2\)</span>, the others being denoted by <span class="math inline">\(\{\tilde{s}\}\)</span>. One then defines an effective energy function <span class="math inline">\({\cal H^\prime}\)</span> for the <span class="math inline">\(s^\prime\)</span> spins by performing an average over all the possible arrangements of the <span class="math inline">\(\tilde{s}\)</span> spins</p>
<p><span class="math display">\[\exp(-{\cal H}^\prime)=\sum_{\{\tilde {s}\}} \exp(-{\cal H}).
\label{eq:decimate}\]</span></p>
<p>This particular coarse-graining scheme is called ‘decimation’ because a certain fraction (not necessarily one-tenth!) of spins on the lattice is eliminated. This formulation of a new energy function realizes two basic aims of the RG method: the long-distance physics of the ‘original’ system, described by <span class="math inline">\({\cal H}\)</span>, is contained in that of the ‘new’ system, described by <span class="math inline">\({\cal H}^\prime\)</span> (indeed the partition functions are the same as one can see by summing both sides over <span class="math inline">\(s^\prime\)</span>) and the new system is further from critically because the ratio of <span class="math inline">\(\xi\)</span> to lattice spacing (‘minimum length scale’) has been reduced by a factor of <span class="math inline">\(1/2\)</span> (the ratio of the lattice spacings of the two systems). We must now face the question of how to perform the configuration sum in eq.&nbsp;<a href="#eq:decimate" data-reference-type="ref" data-reference="eq:decimate">[eq:decimate]</a>. This cannot in general be done exactly, so we must resort to some approximation scheme. The particular approximation which we invoke is the high temperature series expansion. In its simplest mathematical form, since <span class="math inline">\({\cal H}\)</span> contains a factor <span class="math inline">\(1/k_BT\)</span>, it involves the expansion of <span class="math inline">\(\exp(-{\cal H})\)</span> as a power series:</p>
<p><span class="math display">\[\exp(-{\cal H}/k_BT)=1-{\cal H}/k_BT +\frac{1}{2!}({\cal H}/k_BT)^2+.....\]</span></p>
<p>We substitute this expansion into the right hand side of eq.&nbsp;<a href="#eq:decimate" data-reference-type="ref" data-reference="eq:decimate">[eq:decimate]</a> and proceed to look for terms which depend on the <span class="math inline">\(s^\prime\)</span> spins after the sum over the possible arrangements of the <span class="math inline">\(\tilde{s}\)</span> spins is performed. This sum extends over all the possible (<span class="math inline">\(\pm 1\)</span>) values of all the <span class="math inline">\(\tilde{s}\)</span> spins. The first term (the 1) in the expansion of the exponential is clearly independent of the values of the <span class="math inline">\(s^\prime\)</span> spins. The second term (<span class="math inline">\({\cal H}\)</span>) is a function of the <span class="math inline">\(s^\prime\)</span> spins, but gives zero when the sum over the <span class="math inline">\(s^\prime\)</span> spins is performed because only a single factor of any <span class="math inline">\(s^\prime\)</span> ever appears, and <span class="math inline">\(+ 1 - 1 = 0\)</span>. The third term (<span class="math inline">\({\cal H}^2/2\)</span>) does contribute. If one writes out explicitly the form of <span class="math inline">\({\cal H}^2/2\)</span> one finds terms of the form <span class="math inline">\(K^2s_1^\prime\tilde{s}\tilde{s}s_2^\prime=K^2s_1^\prime s_2^\prime\)</span>, where <span class="math inline">\(s_1^\prime\)</span> and <span class="math inline">\(s_2^\prime\)</span> denote two spins at nearest neighbour sites on the lattice of <span class="math inline">\(s^\prime\)</span> spins and <span class="math inline">\(\tilde{s}\)</span> is the spin (in the other set) which lies between them. Now, in the corresponding expansion of the left hand side of eq.&nbsp;<a href="#eq:decimate" data-reference-type="ref" data-reference="eq:decimate">[eq:decimate]</a>, we find terms of the form <span class="math inline">\(K^\prime s_1^\prime s_2^\prime\)</span>, where <span class="math inline">\(K^\prime\)</span> is the nearest neighbour coupling for the <span class="math inline">\(s^\prime\)</span> spins. We conclude (with a little more thought than we detail here) that</p>
<p><span class="math display">\[K^\prime=K^2
\label{eq:rgdec}\]</span></p>
<p>Of course many other terms and couplings are generated by the higher orders of the high temperature expansion and it is necssary to include these if one wishes reliable values for the critical temperature and exponents, However, our aim here is to use this simple calculation to illustrate the RG method. Let us therefore close our eyes, forget about the higher order terms and show how the RGT (eq.&nbsp;<a href="#eq:rgdec" data-reference-type="ref" data-reference="eq:rgdec">[eq:rgdec]</a>) can be used to obtain information on the phase transition.</p>
<div id="fig-flow1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flow1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Figs/flow1.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flow1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.2: Coupling flow under the decimation transformation described in the text.
</figcaption>
</figure>
</div>
<p>The first point to note is that that mathematically eq.&nbsp;<a href="#eq:rgdec" data-reference-type="ref" data-reference="eq:rgdec">[eq:rgdec]</a> has the fixed point <span class="math inline">\(K^*= 1\)</span>; if <span class="math inline">\(K= 1\)</span> then the new effective coupling <span class="math inline">\(K^\prime\)</span> has the same value <span class="math inline">\(1\)</span>. Further, if <span class="math inline">\(K\)</span> is just larger than <span class="math inline">\(1\)</span>, then <span class="math inline">\(K^\prime\)</span> is larger than <span class="math inline">\(K\)</span>, i.e.&nbsp;further away from <span class="math inline">\(1\)</span>. Similarly, if <span class="math inline">\(K\)</span> is less than <span class="math inline">\(1\)</span>, <span class="math inline">\(K^\prime\)</span> is less than <span class="math inline">\(K\)</span>. We say that the fixed point is unstable: the flow of couplings under repeated iteration of eq.&nbsp;<a href="#eq:rgdec" data-reference-type="ref" data-reference="eq:rgdec">[eq:rgdec]</a> is away from the fixed point, as illustrated in fig.&nbsp;<a href="#fig:flow1" data-reference-type="ref" data-reference="fig:flow1">20</a>. The physical significance of this is as follows: suppose that the original system is at its critical point so that the ratio of <span class="math inline">\(\xi\)</span> to lattice spacing is infinite. After one application of the decimation transformation, the effective lattice spacing has increased by a factor of two, but this ratio remains infinite; the new system is therefore also at its critical point. Within the approximations inherent in eq.&nbsp;<a href="#eq:rgdec" data-reference-type="ref" data-reference="eq:rgdec">[eq:rgdec]</a>, the original system is an Ising model with nearest neighbour coupling <span class="math inline">\(K\)</span> and the new system is an Ising model with nearest neighbour coupling <span class="math inline">\(K^\prime\)</span>. If these two systems are going to be at a common critically, we must identify <span class="math inline">\(K^\prime=
K\)</span>. The fixed point <span class="math inline">\(K^*= 1\)</span> is therefore a candidate for the critical point <span class="math inline">\(K_c\)</span>, where the phase transition occurs. This interpretation is reinforced by considering the case where the original system is close to, but not at, criticality. Then <span class="math inline">\(\xi\)</span> is finite and the new system is further from critically because the ratio of <span class="math inline">\(\xi\)</span> to lattice spacing is reduced by a factor of two. This instability of a fixed point to deviations of <span class="math inline">\(K\)</span> from <span class="math inline">\(K^*\)</span> is a further necessary condition for its interpretation as a critical point of the system. In summary then we make the prediction</p>
<p><span class="math display">\[K_c=J/k_BT_c=1
\label{eq:Kc}\]</span></p>
<p>We can obtain further information about the behaviour of the system close to its critical point. In order to do so, we rewrite the transformation (eq.&nbsp;<a href="#eq:rgdec" data-reference-type="ref" data-reference="eq:rgdec">[eq:rgdec]</a>) in terms of the deviation of the coupling from its fixed point value. A Taylor expansion of the function <span class="math inline">\(K^\prime=K^2\)</span> yields</p>
<span class="math display">\[\begin{aligned}
K^\prime =&amp; (K^*)^2 +(K-K^*)\left.\frac{\partial K^\prime}{\partial K}\right|_{K=K^*}+\frac{1}{2}(K-K^*)^2\left.\frac{\partial^2 K^\prime}{\partial K^2}\right|_{K=K^*}+\ldots\nonumber\\
K^\prime - K^* =&amp; 2 (K - K^*)+ (K - K^*)^2
\end{aligned}\]</span>
<p>where in the second line we have used the fact that the first derivative evaluates to <span class="math inline">\(2K^*=2\)</span> and <span class="math inline">\((K^*)^2=K^*\)</span>.</p>
<p>For a system sufficiently close to its critical temperature the final term can be neglected. The deviation of the coupling from its fixed point (critical) value is thus bigger for the new system than it is for the old by a factor of two. This means that the reduced temperature is also bigger by a factor of two:</p>
<p><span class="math display">\[t^\prime= 2t\]</span></p>
<p>But <span class="math inline">\(\xi\)</span> (in units of the appropriate lattice spacing) is smaller by a factor of <span class="math inline">\(1/2\)</span>:</p>
<p><span class="math display">\[\xi^\prime= \xi/2\]</span></p>
<p>Thus, when we double <span class="math inline">\(t\)</span>, we halve <span class="math inline">\(\xi\)</span>, implying that</p>
<p><span class="math display">\[\xi\propto t^{-1}\]</span></p>
<p>for <span class="math inline">\(T\)</span> close to <span class="math inline">\(T_c\)</span>. Thus we see that the RGT predicts scaling behaviour with calculable critical exponents. In this simple calculation we estimate the critical exponent <span class="math inline">\(\nu=1\)</span> for the square lattice Ising model. This prediction is actually in agreement with the exactly established value. The agreement is fortuitous- the prediction in Eq.&nbsp;refeq:Kc for <span class="math inline">\(K_c\)</span>, is larger than the exactly established value by a factor of more than two. In order to obtain reliable estimates more sophisticated and systematic methods must be used.</p>
<p>The crude approximation in the calculation above produced a transformation, eq.&nbsp;<a href="#eq:rgdec" data-reference-type="ref" data-reference="eq:rgdec">[eq:rgdec]</a>, involving only the nearest neighbour coupling, with the subsequent advantages of simple algebra. We pay a penalty for this simplicity in two ways: the results obtained for critical properties are in rather poor agreement with accepted values, and we gain no insight into the origin of universality.</p>
</section>
<section id="universality-and-scaling" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="universality-and-scaling"><span class="header-section-number">9.2</span> Universality and scaling</h2>
<p>In order to expose how universality can arise, we should from the start allow for several different kinds of coupling <span class="math inline">\(J_a\)</span>, and show how the systems with <em>different</em> <span class="math inline">\(J_a\)</span> can have the <em>same</em> critical behaviour.</p>
<div id="fig-flow2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-flow2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Figs/flow2.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-flow2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.3: General flow in coupling space
</figcaption>
</figure>
</div>
<p>Fig.&nbsp;<a href="#fig-flow2" data-reference-type="ref" data-reference="fig:flow2">21</a> is a representation of the space of all coupling strengths <span class="math inline">\(K_a\)</span> in the energy function <span class="math inline">\({\cal H}/k_BT\)</span>. This is of course actually a space of infinite dimension, but representing three of these, as we have done, enables us to illustrate all the important aspects. First let us be clear what the points in this space represent. Suppose we have some magnetic material which is described by a given set of exchange constants <span class="math inline">\(J_1,J_2,J_3.....\)</span> As the temperature <span class="math inline">\(T\)</span> varies, the coupling strengths <span class="math inline">\(K_a=J_a/k_BT\)</span> trace out a straight line, or ray, from the origin of the space in the direction (<span class="math inline">\(J_1,J_2,J_3 ....\)</span> ). Points on this ray close to the origin represent this magnet at high temperatures, and conversely points far from the origin represent the magnet at low temperatures. The critical point of the magnet is represented by a specific point on this ray, <span class="math inline">\(K_a=
J_a/k_BT, a= 1,2,\dots\)</span> The set of critical points on all of the possible rays forms a <em>surface</em>, the critical surface. Formally, it is defined by the set of all possible models (of the Ising type) which have infinite <span class="math inline">\(\xi\)</span>. It is shown schematically as the shaded surface in fig.&nbsp;<a href="#fig:flow2" data-reference-type="ref" data-reference="fig:flow2">21</a>. (In the figure it is a two-dimensional surface; more generally it has one dimension less than the full coupling constant space, dividing all models into high and low tempera- ture phases.)</p>
<p>Our immediate goal then is to understand how the RGT can explain why different physical systems near this critical surface have the same behaviour. Let us turn now to the schematic representation of the RG flow in fig.&nbsp;<a href="#fig:flow2" data-reference-type="ref" data-reference="fig:flow2">21</a>. Suppose we start with a physical system, with coupling strengths <span class="math inline">\(K_a,  a= 1,2, \dots\)</span>. What the RGT does is generate a new point in the figure, at the coupling strengths <span class="math inline">\(K_a^{(1)}=f_a({\bf K})\)</span>; these are the couplings appearing in the effective energy function describing the coarse-grained system. If we repeat the transformation, the new energy function has coupling strengths <span class="math inline">\(K_a^{(2)}=f_a({\bf K})\)</span>. Thus repeated application of the transformation generates a flow of points in the figure: <span class="math inline">\({\bf K\to
K^{(1)}\to\dots\to K^{(n)}}\)</span> where the superscript (<span class="math inline">\(n\)</span>) labels the effective couplings after <span class="math inline">\(n\)</span> coarse-graining steps. if the change in coarse-graining scale is <span class="math inline">\(b\)</span> (<span class="math inline">\(&gt; 1\)</span>) at each step, the total change in coarse-graining scale is <span class="math inline">\(b^n\)</span> after <span class="math inline">\(n\)</span> steps. In the process, therefore, the ratio of <span class="math inline">\(\xi\)</span> to coarse-graining scale is reduced by a factor of <span class="math inline">\(b^{-n}\)</span>. The dots in fig.&nbsp;<a href="#fig:flow2" data-reference-type="ref" data-reference="fig:flow2">21</a> identify three lines of RG flow starting from three systems differing only in their temperature. (The flow lines are schematic but display the essential features revealed in detailed calculations.)</p>
<p>Consider first the red dots which start from the nearest neighbour Ising model at its critical point. The ratio of <span class="math inline">\(\xi\)</span> to coarse-graining scale is reduced by a factor b at each step, but, since it starts infinite, it remains infinite after any finite number of steps. In this case we can in principle generate an unbounded number of dots, <span class="math inline">\({\bf K^{(1)}, K^{(2)},\dots,K^{(n)}}\)</span>, all of which lie in the critical surface. The simplest behaviour of such a sequence as <span class="math inline">\(n\)</span> increases is to tend to a limit, <span class="math inline">\(K^*\)</span>, say. In such a case</p>
<p><span class="math display">\[K^*_a=f_a(K^*)~~~~ a= 1,2 .....\]</span></p>
<p>This point <span class="math inline">\({\bf K^*} \equiv K_1^*, K_2^*, \dots\)</span> is therefore a <em>fixed point</em> which lies in the critical surface.</p>
<p>By contrast, consider the same magnet as before, now at temperature <span class="math inline">\(T\)</span> just greater than <span class="math inline">\(T_c\)</span>, its couplings <span class="math inline">\(K_a\)</span>, will be close to the first red dot (in fact they will be slightly smaller) and so will the effective couplings <span class="math inline">\(K_a^{(1)},K_2^{(2)},\dots\)</span> of the corresponding coarse-grained systems. The new flow will therefore appear initially to follow the red dots towards the same fixed point. However, the flow must eventually move away from the fixed point because each coarse-graining now produces a model further from criticality. The resulting flow is represented schematically by one set of black dots. The other set of black dots shows the expected flow starting from the same magnet slightly below its critical temperature.</p>
<p>We are now in a position to understand both universality and scaling within this framework. We will suppose that there exists a single fixed point in the critical surface which sucks in all flows starting from a point in that surface. Then any system at its critical point will exhibit large-length scale physics (large-block spin behaviour) described by the single set of fixed point coupling constants. The uniqueness of this limiting set of coupling constants is the essence of critical point universality. It is, of course, the algebraic counterpart of the unique limiting spectrum of coarse-grained configurations, discussed in sec&nbsp;<a href="rg.html#sec:unipics" data-reference-type="ref" data-reference="sec:unipics">9.5</a>. Similarly the scale-invariance of the critical point configuration spectrum (viewed on large enough length scales) is expressed in the invariance of the couplings under iteration of the transformation (after a number of iterations large enough to secure convergence to the fixed point).</p>
<p>To understand the behaviour of systems near but not precisely at critically we must make a further assumption (again widely justified by explicit studies). The flow line stemming from any such system will, we have argued, be borne towards the fixed point before ultimately deviating from it after a number of iterations large enough to expose the system’s noncritical character. We assume that (as indicated schematically in the streams of red and blue lines in fig.&nbsp;<a href="#fig:flow2" data-reference-type="ref" data-reference="fig:flow2">21</a>) the deviations lie along a single line through the fixed point, the direction followed along this line differing according to the sign of the temperature deviation <span class="math inline">\(T-T_c\)</span>. Since any two sets of coupling constants on the line (on the same side of the fixed point) are related by a suitable coarse-graining operation, this picture implies that the large-length-scale physics of all near- critical systems differs only in the matter of a length scale. This is the essence of near-critical point universality.</p>


<script type="ojs-module-contents">
eyJjb250ZW50cyI6W119
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
W10=
</script>
</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W119
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../phase-transitions";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../phase-transitions/rg.html" class="pagination-link" aria-label="Renormalization group theory">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Renormalization group theory</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../phase-transitions/nucleation-and-growth.html" class="pagination-link" aria-label="Nucleation and domain growth">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Nucleation and domain growth</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>